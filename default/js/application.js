(function(){window.namespace=function(e,t){var n,r,i,s,o;r=window,o=e.split(".");for(i=0,s=o.length;i<s;i++)n=o[i],r=r[n]||(r[n]={});return t(r)}}).call(this),function(){this.KissMetricsLogger=function(){function t(){}var e;return t.prototype.logDashboardVisit=function(){return e("Visited Dashboard"),e("Visited Dashboard: "+(this.viewName||this.defaultViewName),{"Merchant ID":this.properties.merchantID,"Merchant Name":decodeURIComponent(this.properties.merchantName),Admin:this.properties.userAdmin})},t.prototype.setDashboardViewName=function(e){return this.viewName=e},t.prototype.setDefaultDashboardViewName=function(e){return this.defaultViewName=e},t.prototype.setProperties=function(e){return this.properties=e},e=function(e,t){var n;try{return _kmq.push(["record",e,t])}catch(r){return n=r,!1}},t}()}.call(this),function(){namespace("LevelUp",function(e){return e.km=new KissMetricsLogger})}.call(this),function(e){e.fn.modal=function(t){function r(){e("#modal .close").unbind("click"),e("#modal .content").slideUp(300),e("#modal .container").delay(400).fadeOut(300),e("#modal").delay(600).fadeOut(300),n.onClose.call(this)}var n=e.extend({onClose:function(){},onOpen:function(){},title:"",width:"400px"},t);this.attr("rel")!==undefined&&(n.title=this.attr("rel")),e("#modal .container").css("width",n.width),e("#modal header span").html(n.title);if(n.type==="alert"&&e("#modal .content-wrapper").children().length)return this.each(function(){e("#modal .close").bind("click",r),e("#modal").fadeIn(300),e("#modal .container").delay(200).fadeIn(300),e("#modal .content-wrapper").delay(600).slideDown(300,function(){n.onOpen.call(this)})});if(e("#modal .content-wrapper").children().length)return this.each(function(){e(this).click(function(){e("#modal .close").bind("click",r),e("#modal").fadeIn(300),e("#modal .container").delay(200).fadeIn(300),e("#modal .content-wrapper").delay(600).slideDown(300,function(){n.onOpen.call(this)})})})}}(jQuery),function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return e.namespace==="rails"}).length};n()&&e.error("jquery-ujs has already been loaded!");var r;e.rails=r={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var i,s,o,u,a,f,l,c;if(r.fire(n,"ajax:before")){u=n.data("cross-domain"),a=u===t?null:u,f=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(n.is("form")){i=n.attr("method"),s=n.attr("action"),o=n.serializeArray();var h=n.data("ujs:submit-button");h&&(o.push(h),n.data("ujs:submit-button",null))}else n.is(r.inputChangeSelector)?(i=n.data("method"),s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(i=n.data("method"),s=r.href(n),o=n.data("params")||null);c={type:i||"GET",data:o,dataType:l,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),r.fire(n,"ajax:beforeSend",[e,i])},success:function(e,t,r){n.trigger("ajax:success",[e,t,r])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,r){n.trigger("ajax:error",[e,t,r])},xhrFields:{withCredentials:f},crossDomain:a},s&&(c.url=s);var p=r.ajax(c);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var i=r.href(n),s=n.data("method"),o=n.attr("target"),u=e("meta[name=csrf-token]").attr("content"),a=e("meta[name=csrf-param]").attr("content"),f=e('<form method="post" action="'+i+'"></form>'),l='<input name="_method" value="'+s+'" type="hidden" />';a!==t&&u!==t&&(l+='<input name="'+a+'" value="'+u+'" type="hidden" />'),o&&f.attr("target",o),f.hide().append(l).appendTo("body"),f.submit()},disableFormElements:function(t){t.find(r.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(r.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t=e.data("confirm"),n=!1,i;return t?(r.fire(e,"confirm")&&(n=r.confirm(t),i=r.fire(e,"confirm:complete",[n])),n&&i):!0},blankInputs:function(t,n,r){var i=e(),s,o,u=n||"input,textarea",a=t.find(u);return a.each(function(){s=e(this),o=s.is(":checkbox,:radio")?s.is(":checked"):s.val();if(!o==!r){if(s.is(":radio")&&a.filter('input:radio:checked[name="'+s.attr("name")+'"]').length)return!0;i=i.add(s)}}),i.length?i:!1},nonBlankInputs:function(e,t){return r.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,r){var i=n.data("events"),s=!0;return i!==t&&i.submit!==t&&e.each(i.submit,function(e,t){if(typeof t.handler=="function")return s=t.handler(r)}),s},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return r.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},r.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||r.CSRFProtection(n)}),e(document).delegate(r.linkDisableSelector,"ajax:complete",function(){r.enableElement(e(this))}),e(document).delegate(r.linkClickSelector,"click.rails",function(n){var i=e(this),s=i.data("method"),o=i.data("params");if(!r.allowAction(i))return r.stopEverything(n);i.is(r.linkDisableSelector)&&r.disableElement(i);if(i.data("remote")!==t){if((n.metaKey||n.ctrlKey)&&(!s||s==="GET")&&!o)return!0;var u=r.handleRemote(i);return u===!1?r.enableElement(i):u.error(function(){r.enableElement(i)}),!1}if(i.data("method"))return r.handleMethod(i),!1}),e(document).delegate(r.inputChangeSelector,"change.rails",function(t){var n=e(this);return r.allowAction(n)?(r.handleRemote(n),!1):r.stopEverything(t)}),e(document).delegate(r.formSubmitSelector,"submit.rails",function(n){var i=e(this),s=i.data("remote")!==t,o=r.blankInputs(i,r.requiredInputSelector),u=r.nonBlankInputs(i,r.fileInputSelector);if(!r.allowAction(i))return r.stopEverything(n);if(o&&i.attr("novalidate")==t&&r.fire(i,"ajax:aborted:required",[o]))return r.stopEverything(n);if(s){if(u){setTimeout(function(){r.disableFormElements(i)},13);var a=r.fire(i,"ajax:aborted:file",[u]);return a||setTimeout(function(){r.enableFormElements(i)},13),a}return!e.support.submitBubbles&&e().jquery<"1.7"&&r.callFormSubmitBindings(i,n)===!1?r.stopEverything(n):(r.handleRemote(i),!1)}setTimeout(function(){r.disableFormElements(i)},13)}),e(document).delegate(r.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!r.allowAction(n))return r.stopEverything(t);var i=n.attr("name"),s=i?{name:i,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),e(document).delegate(r.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&r.disableFormElements(e(this))}),e(document).delegate(r.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&r.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(e,t){function o(e){return!!(e===""||e&&e.charCodeAt&&e.substr)}function u(e){return i?i(e):s.call(e)==="[object Array]"}function a(e){return e&&s.call(e)==="[object Object]"}function f(e,t){var n;e=e||{},t=t||{};for(n in t)t.hasOwnProperty(n)&&e[n]==null&&(e[n]=t[n]);return e}function l(e,t,n){var i=[],s,o;if(!e)return i;if(r&&e.map===r)return e.map(t,n);for(s=0,o=e.length;s<o;s++)i[s]=t.call(n,e[s],s,e);return i}function c(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function h(e){var t=n.settings.currency.format;return typeof e=="function"&&(e=e()),o(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:!e||!e.pos||!e.pos.match("%v")?o(t)?n.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t:e}var n={};n.version="0.3.2",n.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var r=Array.prototype.map,i=Array.isArray,s=Object.prototype.toString,p=n.unformat=n.parse=function(e,t){if(u(e))return l(e,function(e){return p(e,t)});e=e||0;if(typeof e=="number")return e;t=t||n.settings.number.decimal;var r=new RegExp("[^0-9-"+t+"]",["g"]),i=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(r,"").replace(t,"."));return isNaN(i)?0:i},d=n.toFixed=function(e,t){t=c(t,n.settings.number.precision);var r=Math.pow(10,t);return(Math.round(n.unformat(e)*r)/r).toFixed(t)},v=n.formatNumber=function(e,t,r,i){if(u(e))return l(e,function(e){return v(e,t,r,i)});e=p(e);var s=f(a(t)?t:{precision:t,thousand:r,decimal:i},n.settings.number),o=c(s.precision),h=e<0?"-":"",m=parseInt(d(Math.abs(e||0),o),10)+"",g=m.length>3?m.length%3:0;return h+(g?m.substr(0,g)+s.thousand:"")+m.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+s.thousand)+(o?s.decimal+d(Math.abs(e),o).split(".")[1]:"")},m=n.formatMoney=function(e,t,r,i,s,o){if(u(e))return l(e,function(e){return m(e,t,r,i,s,o)});e=p(e);var d=f(a(t)?t:{symbol:t,precision:r,thousand:i,decimal:s,format:o},n.settings.currency),g=h(d.format),y=e>0?g.pos:e<0?g.neg:g.zero;return y.replace("%s",d.symbol).replace("%v",v(Math.abs(e),c(d.precision),d.thousand,d.decimal))};n.formatColumn=function(e,t,r,i,s,d){if(!e)return[];var m=f(a(t)?t:{symbol:t,precision:r,thousand:i,decimal:s,format:d},n.settings.currency),g=h(m.format),y=g.pos.indexOf("%s")<g.pos.indexOf("%v")?!0:!1,b=0,w=l(e,function(e,t){if(u(e))return n.formatColumn(e,m);e=p(e);var r=e>0?g.pos:e<0?g.neg:g.zero,i=r.replace("%s",m.symbol).replace("%v",v(Math.abs(e),c(m.precision),m.thousand,m.decimal));return i.length>b&&(b=i.length),i});return l(w,function(e,t){return o(e)&&e.length<b?y?e.replace(m.symbol,m.symbol+(new Array(b-e.length+1)).join(" ")):(new Array(b-e.length+1)).join(" ")+e:e})},typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=n),exports.accounting=n):typeof define=="function"&&define.amd?define([],function(){return n}):(n.noConflict=function(r){return function(){return e.accounting=r,n.noConflict=t,n}}(e.accounting),e.accounting=n)}(this),function(){var e;e=function(){function e(t,n){this.form_field=t,this.options=n!=null?n:{};if(!e.browser_is_supported())return;this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers()}return e.prototype.set_default_values=function(){return this.click_test_action=function(e){return function(t){return e.test_active_click(t)}}(this),this.activate_action=function(e){return function(t){return e.activate_field(t)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:!0,this.group_search=this.options.group_search!=null?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=this.options.single_backstroke_delete!=null?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:!0,this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){if(this.is_multiple){if(!this.active_field)return setTimeout(function(e){return function(){return e.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(e){return function(){return e.blur_test()}}(this),100)},e.prototype.results_option_build=function(e){var t,n,r,i,s;t="",s=this.results_data;for(r=0,i=s.length;r<i;r++){n=s[r],n.group?t+=this.result_add_group(n):t+=this.result_add_option(n);if(e!=null?e.first:void 0)n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(n.text)}return t},e.prototype.result_add_option=function(e){var t,n;return e.search_match?this.include_option_in_results(e)?(t=[],!e.disabled&&(!e.selected||!this.is_multiple)&&t.push("active-result"),e.disabled&&(!e.selected||!this.is_multiple)&&t.push("disabled-result"),e.selected&&t.push("result-selected"),e.group_array_index!=null&&t.push("group-option"),e.classes!==""&&t.push(e.classes),n=document.createElement("li"),n.className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.search_text,this.outerHTML(n)):"":""},e.prototype.result_add_group=function(e){var t;return!e.search_match&&!e.group_match?"":e.active_options>0?(t=document.createElement("li"),t.className="group-result",t.innerHTML=e.search_text,this.outerHTML(t)):""},e.prototype.results_update_field=function(){this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build();if(this.results_showing)return this.winnow_results()},e.prototype.reset_single_select_options=function(){var e,t,n,r,i;r=this.results_data,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],e.selected?i.push(e.selected=!1):i.push(void 0);return i},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h;this.no_results_clear(),i=0,o=this.get_search_text(),e=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),r=this.search_contains?"":"^",n=new RegExp(r+e,"i"),f=new RegExp(e,"i"),h=this.results_data;for(l=0,c=h.length;l<c;l++){t=h[l],t.search_match=!1,s=null;if(this.include_option_in_results(t)){t.group&&(t.group_match=!1,t.active_options=0),t.group_array_index!=null&&this.results_data[t.group_array_index]&&(s=this.results_data[t.group_array_index],s.active_options===0&&s.search_match&&(i+=1),s.active_options+=1);if(!t.group||!!this.group_search)t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,n),t.search_match&&!t.group&&(i+=1),t.search_match?(o.length&&(u=t.search_text.search(f),a=t.search_text.substr(0,u+o.length)+"</em>"+t.search_text.substr(u+o.length),t.search_text=a.substr(0,u)+"<em>"+a.substr(u)),s!=null&&(s.group_match=!0)):t.group_array_index!=null&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)}}return this.result_clear_highlight(),i<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var n,r,i,s;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||e.indexOf("[")===0)){r=e.replace(/\[|\]/g,"").split(" ");if(r.length)for(i=0,s=r.length;i<s;i++){n=r[i];if(t.test(n))return!0}}},e.prototype.choices_count=function(){var e,t,n,r;if(this.selected_option_count!=null)return this.selected_option_count;this.selected_option_count=0,r=this.form_field.options;for(t=0,n=r.length;t<n;t++)e=r[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){e.preventDefault();if(!this.results_showing&&!this.is_disabled)return this.results_show()},e.prototype.keyup_checker=function(e){var t,n;t=(n=e.which)!=null?n:e.keyCode,this.search_field_scale();switch(t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:e.preventDefault();if(this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(e){return setTimeout(function(e){return function(){return e.results_search()}}(this),50)},e.prototype.container_width=function(){return this.options.width!=null?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return window.navigator.appName==="Microsoft Internet Explorer"?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),window.AbstractChosen=e}.call(this),function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return e.nodeName.toUpperCase()==="OPTGROUP"?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,r,i,s,o;t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),s=e.childNodes,o=[];for(r=0,i=s.length;r<i;r++)n=s[r],o.push(this.add_option(n,t,e.disabled));return o},e.prototype.add_option=function(e,t,n){if(e.nodeName.toUpperCase()==="OPTION")return e.text!==""?(t!=null&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e.prototype.escapeExpression=function(e){var t,n;return e==null||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&amp;"})):e},e}(),e.select_to_array=function(t){var n,r,i,s,o;r=new e,o=t.childNodes;for(i=0,s=o.length;i<s;i++)n=o[i],r.add_node(n);return r.parsed},window.SelectParser=e}.call(this),function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=jQuery,e.fn.extend({chosen:function(n){return AbstractChosen.browser_is_supported()?this.each(function(r){var i,s;i=e(this),s=i.data("chosen"),n==="destroy"&&s?s.destroy():s||i.data("chosen",new t(this,n))}):this}}),t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},n.prototype.set_up_html=function(){var t,n;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),n={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",n),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){return this.container.bind("mousedown.chosen",function(e){return function(t){e.container_mousedown(t)}}(this)),this.container.bind("mouseup.chosen",function(e){return function(t){e.container_mouseup(t)}}(this)),this.container.bind("mouseenter.chosen",function(e){return function(t){e.mouse_enter(t)}}(this)),this.container.bind("mouseleave.chosen",function(e){return function(t){e.mouse_leave(t)}}(this)),this.search_results.bind("mouseup.chosen",function(e){return function(t){e.search_results_mouseup(t)}}(this)),this.search_results.bind("mouseover.chosen",function(e){return function(t){e.search_results_mouseover(t)}}(this)),this.search_results.bind("mouseout.chosen",function(e){return function(t){e.search_results_mouseout(t)}}(this)),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){return function(t){e.search_results_mousewheel(t)}}(this)),this.search_results.bind("touchstart.chosen",function(e){return function(t){e.search_results_touchstart(t)}}(this)),this.search_results.bind("touchmove.chosen",function(e){return function(t){e.search_results_touchmove(t)}}(this)),this.search_results.bind("touchend.chosen",function(e){return function(t){e.search_results_touchend(t)}}(this)),this.form_field_jq.bind("chosen:updated.chosen",function(e){return function(t){e.results_update_field(t)}}(this)),this.form_field_jq.bind("chosen:activate.chosen",function(e){return function(t){e.activate_field(t)}}(this)),this.form_field_jq.bind("chosen:open.chosen",function(e){return function(t){e.container_mousedown(t)}}(this)),this.form_field_jq.bind("chosen:close.chosen",function(e){return function(t){e.input_blur(t)}}(this)),this.search_field.bind("blur.chosen",function(e){return function(t){e.input_blur(t)}}(this)),this.search_field.bind("keyup.chosen",function(e){return function(t){e.keyup_checker(t)}}(this)),this.search_field.bind("keydown.chosen",function(e){return function(t){e.keydown_checker(t)}}(this)),this.search_field.bind("focus.chosen",function(e){return function(t){e.input_focus(t)}}(this)),this.search_field.bind("cut.chosen",function(e){return function(t){e.clipboard_event_checker(t)}}(this)),this.search_field.bind("paste.chosen",function(e){return function(t){e.clipboard_event_checker(t)}}(this)),this.is_multiple?this.search_choices.bind("click.chosen",function(e){return function(t){e.choices_click(t)}}(this)):this.container.bind("click.chosen",function(e){e.preventDefault()})},n.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled)return this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field();this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1;if(!this.is_multiple)return this.selected_item.bind("focus.chosen",this.activate_action)},n.prototype.container_mousedown=function(t){if(!this.is_disabled){t&&t.type==="mousedown"&&!this.results_showing&&t.preventDefault();if(t==null||!e(t.target).hasClass("search-choice-close"))return this.active_field?!this.is_multiple&&t&&(e(t.target)[0]===this.selected_item[0]||e(t.target).parents("a.chosen-single").length)&&(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()}},n.prototype.container_mouseup=function(e){if(e.target.nodeName==="ABBR"&&!this.is_disabled)return this.results_reset(e)},n.prototype.search_results_mousewheel=function(e){var t;e.originalEvent&&(t=-e.originalEvent.wheelDelta||e.originalEvent.detail);if(t!=null)return e.preventDefault(),e.type==="DOMMouseScroll"&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},n.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},n.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(t){var n;return n=e(t.target).closest(".chosen-container"),n.length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(e){var t,n,r,i,s;if(e.length){this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),r=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),i=r+s,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight();if(t>=i)return this.search_results.scrollTop(t-r>0?t-r:0);if(n<s)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(e){return this.search_results.html(e)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(e){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},n.prototype.set_label_behavior=function(){this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']"));if(this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(e){return function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}}(this))},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(t){var n;n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first();if(n.length)return this.result_highlight=n,this.result_select(t),this.search_field.focus()},n.prototype.search_results_mouseover=function(t){var n;n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first();if(n)return this.result_do_highlight(n)},n.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result"))return this.result_clear_highlight()},n.prototype.choice_build=function(t){var n,r;return n=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?n.addClass("search-choice-disabled"):(r=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),r.bind("click.chosen",function(e){return function(t){return e.choice_destroy_link_click(t)}}(this)),n.append(r)),this.search_container.before(n)},n.prototype.choice_destroy_link_click=function(t){t.preventDefault(),t.stopPropagation();if(!this.is_disabled)return this.choice_destroy(e(t.target))},n.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this
.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},n.prototype.results_reset=function(){this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change");if(this.active_field)return this.results_hide()},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,n;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),n=this.results_data[t[0].getAttribute("data-option-array-index")],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(n.text),(!e.metaKey&&!e.ctrlKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())},n.prototype.single_set_selected_text=function(e){return e==null&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},n.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect)return;return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},n.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},n.prototype.winnow_results_set_highlight=function(){var e,t;t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first();if(e!=null)return this.result_do_highlight(e)},n.prototype.no_results=function(t){var n;return n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(t),this.search_results.append(n),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var e;if(!this.results_showing||!this.result_highlight)return this.results_show();e=this.result_highlight.nextAll("li.active-result").first();if(e)return this.result_do_highlight(e)},n.prototype.keyup_arrow=function(){var e;if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight)return e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())},n.prototype.keydown_backstroke=function(){var e;if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();e=this.search_container.siblings("li.search-choice").last();if(e.length&&!e.hasClass("search-choice-disabled"))return this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,n;t=(n=e.which)!=null?n:e.keyCode,this.search_field_scale(),t!==8&&this.pending_backstroke&&this.clear_backstroke();switch(t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},n.prototype.search_field_scale=function(){var t,n,r,i,s,o,u,a,f;if(this.is_multiple){r=0,u=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(a=0,f=o.length;a<f;a++)i=o[a],s+=i+":"+this.search_field.css(i)+";";return t=e("<div />",{style:s}),t.text(this.search_field.val()),e("body").append(t),u=t.width()+25,t.remove(),n=this.container.outerWidth(),u>n-10&&(u=n-10),this.search_field.css({width:u+"px"})}},n}(AbstractChosen)}.call(this),function(e){function t(e,t){return e.toFixed(t.decimals)}e.fn.countTo=function(t){return t=t||{},e(this).each(function(){function l(){a+=i,u++,c(a),typeof n.onUpdate=="function"&&n.onUpdate.call(s,a),u>=r&&(o.removeData("countTo"),clearInterval(f.interval),a=n.to,typeof n.onComplete=="function"&&n.onComplete.call(s,a))}function c(e){var t=n.formatter.call(s,e,n);o.html(t)}var n=e.extend({},e.fn.countTo.defaults,{from:e(this).data("from"),to:e(this).data("to"),speed:e(this).data("speed"),refreshInterval:e(this).data("refresh-interval"),decimals:e(this).data("decimals")},t),r=Math.ceil(n.speed/n.refreshInterval),i=(n.to-n.from)/r,s=this,o=e(this),u=0,a=n.from,f=o.data("countTo")||{};o.data("countTo",f),f.interval&&clearInterval(f.interval),f.interval=setInterval(l,n.refreshInterval),c(a)})},e.fn.countTo.defaults={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:t,onUpdate:null,onComplete:null}}(jQuery),function(e){"use strict";function t(e){return(e||"").toLowerCase()}var n="2.1.2";e.fn.cycle=function(n){var r;return 0!==this.length||e.isReady?this.each(function(){var r,s,o,u,a=e(this),f=e.fn.cycle.log;if(!a.data("cycle.opts")){(a.data("cycle-log")===!1||n&&n.log===!1||s&&s.log===!1)&&(f=e.noop),f("--c2 init--"),r=a.data();for(var l in r)r.hasOwnProperty(l)&&/^cycle[A-Z]+/.test(l)&&(u=r[l],o=l.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),f(o+":",u,"("+typeof u+")"),r[o]=u);s=e.extend({},e.fn.cycle.defaults,r,n||{}),s.timeoutId=0,s.paused=s.paused||!1,s.container=a,s._maxZ=s.maxZ,s.API=e.extend({_container:a},e.fn.cycle.API),s.API.log=f,s.API.trigger=function(e,t){return s.container.trigger(e,t),s.API},a.data("cycle.opts",s),a.data("cycle.API",s.API),s.API.trigger("cycle-bootstrap",[s,s.API]),s.API.addInitialSlides(),s.API.preInitSlideshow(),s.slides.length&&s.API.initSlideshow()}}):(r={s:this.selector,c:this.context},e.fn.cycle.log("requeuing slideshow (dom not ready)"),e(function(){e(r.s,r.c).cycle(n)}),this)},e.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var t=this.opts(),n=t.slides;t.slideCount=0,t.slides=e(),n=n.jquery?n:t.container.find(n),t.random&&n.sort(function(){return Math.random()-.5}),t.API.add(n)},preInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-pre-initialize",[t]);var n=e.fn.cycle.transitions[t.fx];n&&e.isFunction(n.preInit)&&n.preInit(t),t._preInitialized=!0},postInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-post-initialize",[t]);var n=e.fn.cycle.transitions[t.fx];n&&e.isFunction(n.postInit)&&n.postInit(t)},initSlideshow:function(){var t,n=this.opts(),r=n.container;n.API.calcFirstSlide(),"static"==n.container.css("position")&&n.container.css("position","relative"),e(n.slides[n.currSlide]).css({opacity:1,display:"block",visibility:"visible"}),n.API.stackSlides(n.slides[n.currSlide],n.slides[n.nextSlide],!n.reverse),n.pauseOnHover&&(n.pauseOnHover!==!0&&(r=e(n.pauseOnHover)),r.hover(function(){n.API.pause(!0)},function(){n.API.resume(!0)})),n.timeout&&(t=n.API.getSlideOpts(n.currSlide),n.API.queueTransition(t,t.timeout+n.delay)),n._initialized=!0,n.API.updateView(!0),n.API.trigger("cycle-initialized",[n]),n.API.postInitSlideshow()},pause:function(t){var n=this.opts(),r=n.API.getSlideOpts(),i=n.hoverPaused||n.paused;t?n.hoverPaused=!0:n.paused=!0,i||(n.container.addClass("cycle-paused"),n.API.trigger("cycle-paused",[n]).log("cycle-paused"),r.timeout&&(clearTimeout(n.timeoutId),n.timeoutId=0,n._remainingTimeout-=e.now()-n._lastQueue,(0>n._remainingTimeout||isNaN(n._remainingTimeout))&&(n._remainingTimeout=void 0)))},resume:function(e){var t=this.opts(),n=!t.hoverPaused&&!t.paused;e?t.hoverPaused=!1:t.paused=!1,n||(t.container.removeClass("cycle-paused"),0===t.slides.filter(":animated").length&&t.API.queueTransition(t.API.getSlideOpts(),t._remainingTimeout),t.API.trigger("cycle-resumed",[t,t._remainingTimeout]).log("cycle-resumed"))},add:function(t,n){var r,i=this.opts(),s=i.slideCount,o=!1;"string"==e.type(t)&&(t=e.trim(t)),e(t).each(function(){var t,r=e(this);n?i.container.prepend(r):i.container.append(r),i.slideCount++,t=i.API.buildSlideOpts(r),i.slides=n?e(r).add(i.slides):i.slides.add(r),i.API.initSlide(t,r,--i._maxZ),r.data("cycle.opts",t),i.API.trigger("cycle-slide-added",[i,t,r])}),i.API.updateView(!0),o=i._preInitialized&&2>s&&i.slideCount>=1,o&&(i._initialized?i.timeout&&(r=i.slides.length,i.nextSlide=i.reverse?r-1:1,i.timeoutId||i.API.queueTransition(i)):i.API.initSlideshow())},calcFirstSlide:function(){var e,t=this.opts();e=parseInt(t.startingSlide||0,10),(e>=t.slides.length||0>e)&&(e=0),t.currSlide=e,t.reverse?(t.nextSlide=e-1,0>t.nextSlide&&(t.nextSlide=t.slides.length-1)):(t.nextSlide=e+1,t.nextSlide==t.slides.length&&(t.nextSlide=0))},calcNextSlide:function(){var e,t=this.opts();t.reverse?(e=0>t.nextSlide-1,t.nextSlide=e?t.slideCount-1:t.nextSlide-1,t.currSlide=e?0:t.nextSlide+1):(e=t.nextSlide+1==t.slides.length,t.nextSlide=e?0:t.nextSlide+1,t.currSlide=e?t.slides.length-1:t.nextSlide-1)},calcTx:function(t,n){var r,i=t;return n&&i.manualFx&&(r=e.fn.cycle.transitions[i.manualFx]),r||(r=e.fn.cycle.transitions[i.fx]),r||(r=e.fn.cycle.transitions.fade,i.API.log('Transition "'+i.fx+'" not found.  Using fade.')),r},prepareTx:function(e,t){var n,r,i,s,o,u=this.opts();return 2>u.slideCount?(u.timeoutId=0,void 0):(!e||u.busy&&!u.manualTrump||(u.API.stopTransition(),u.busy=!1,clearTimeout(u.timeoutId),u.timeoutId=0),u.busy||(0!==u.timeoutId||e)&&(r=u.slides[u.currSlide],i=u.slides[u.nextSlide],s=u.API.getSlideOpts(u.nextSlide),o=u.API.calcTx(s,e),u._tx=o,e&&void 0!==s.manualSpeed&&(s.speed=s.manualSpeed),u.nextSlide!=u.currSlide&&(e||!u.paused&&!u.hoverPaused&&u.timeout)?(u.API.trigger("cycle-before",[s,r,i,t]),o.before&&o.before(s,r,i,t),n=function(){u.busy=!1,u.container.data("cycle.opts")&&(o.after&&o.after(s,r,i,t),u.API.trigger("cycle-after",[s,r,i,t]),u.API.queueTransition(s),u.API.updateView(!0))},u.busy=!0,o.transition?o.transition(s,r,i,t,n):u.API.doTransition(s,r,i,t,n),u.API.calcNextSlide(),u.API.updateView()):u.API.queueTransition(s)),void 0)},doTransition:function(t,n,r,i,s){var o=t,u=e(n),a=e(r),f=function(){a.animate(o.animIn||{opacity:1},o.speed,o.easeIn||o.easing,s)};a.css(o.cssBefore||{}),u.animate(o.animOut||{},o.speed,o.easeOut||o.easing,function(){u.css(o.cssAfter||{}),o.sync||f()}),o.sync&&f()},queueTransition:function(t,n){var r=this.opts(),i=void 0!==n?n:t.timeout;return 0===r.nextSlide&&0===--r.loop?(r.API.log("terminating; loop=0"),r.timeout=0,i?setTimeout(function(){r.API.trigger("cycle-finished",[r])},i):r.API.trigger("cycle-finished",[r]),r.nextSlide=r.currSlide,void 0):void 0!==r.continueAuto&&(r.continueAuto===!1||e.isFunction(r.continueAuto)&&r.continueAuto()===!1)?(r.API.log("terminating automatic transitions"),r.timeout=0,r.timeoutId&&clearTimeout(r.timeoutId),void 0):(i&&(r._lastQueue=e.now(),void 0===n&&(r._remainingTimeout=t.timeout),r.paused||r.hoverPaused||(r.timeoutId=setTimeout(function(){r.API.prepareTx(!1,!r.reverse)},i))),void 0)},stopTransition:function(){var e=this.opts();e.slides.filter(":animated").length&&(e.slides.stop(!1,!0),e.API.trigger("cycle-transition-stopped",[e])),e._tx&&e._tx.stopTransition&&e._tx.stopTransition(e)},advanceSlide:function(e){var t=this.opts();return clearTimeout(t.timeoutId),t.timeoutId=0,t.nextSlide=t.currSlide+e,0>t.nextSlide?t.nextSlide=t.slides.length-1:t.nextSlide>=t.slides.length&&(t.nextSlide=0),t.API.prepareTx(!0,e>=0),!1},buildSlideOpts:function(n){var r,i,s=this.opts(),o=n.data()||{};for(var u in o)o.hasOwnProperty(u)&&/^cycle[A-Z]+/.test(u)&&(r=o[u],i=u.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),s.API.log("["+(s.slideCount-1)+"]",i+":",r,"("+typeof r+")"),o[i]=r);o=e.extend({},e.fn.cycle.defaults,s,o),o.slideNum=s.slideCount;try{delete o.API,delete o.slideCount,delete o.currSlide,delete o.nextSlide,delete o.slides}catch(a){}return o},getSlideOpts:function(t){var n=this.opts();void 0===t&&(t=n.currSlide);var r=n.slides[t],i=e(r).data("cycle.opts");return e.extend({},n,i)},initSlide:function(t,n,r){var i=this.opts();n.css(t.slideCss||{}),r>0&&n.css("zIndex",r),isNaN(t.speed)&&(t.speed=e.fx.speeds[t.speed]||e.fx.speeds._default),t.sync||(t.speed=t.speed/2),n.addClass(i.slideClass)},updateView:function(e,t){var n=this.opts();if(n._initialized){var r=n.API.getSlideOpts(),i=n.slides[n.currSlide];!e&&t!==!0&&(n.API.trigger("cycle-update-view-before",[n,r,i]),0>n.updateView)||(n.slideActiveClass&&n.slides.removeClass(n.slideActiveClass).eq(n.currSlide).addClass(n.slideActiveClass),e&&n.hideNonActive&&n.slides.filter(":not(."+n.slideActiveClass+")").css("visibility","hidden"),0===n.updateView&&setTimeout(function(){n.API.trigger("cycle-update-view",[n,r,i,e])},r.speed/(n.sync?2:1)),0!==n.updateView&&n.API.trigger("cycle-update-view",[n,r,i,e]),e&&n.API.trigger("cycle-update-view-after",[n,r,i]))}},getComponent:function(t){var n=this.opts(),r=n[t];return"string"==typeof r?/^\s*[\>|\+|~]/.test(r)?n.container.find(r):e(r):r.jquery?r:e(r)},stackSlides:function(t,n,r){var i=this.opts();t||(t=i.slides[i.currSlide],n=i.slides[i.nextSlide],r=!i.reverse),e(t).css("zIndex",i.maxZ);var s,o=i.maxZ-2,u=i.slideCount;if(r){for(s=i.currSlide+1;u>s;s++)e(i.slides[s]).css("zIndex",o--);for(s=0;i.currSlide>s;s++)e(i.slides[s]).css("zIndex",o--)}else{for(s=i.currSlide-1;s>=0;s--)e(i.slides[s]).css("zIndex",o--);for(s=u-1;s>i.currSlide;s--)e(i.slides[s]).css("zIndex",o--)}e(n).css("zIndex",i.maxZ-1)},getSlideIndex:function(e){return this.opts().slides.index(e)}},e.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},e.fn.cycle.version=function(){return"Cycle2: "+n},e.fn.cycle.transitions={custom:{},none:{before:function(e,t,n,r){e.API.stackSlides(n,t,r),e.cssBefore={opacity:1,visibility:"visible",display:"block"}}},fade:{before:function(t,n,r,i){var s=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(n,r,i),t.cssBefore=e.extend(s,{opacity:0,visibility:"visible",display:"block"}),t.animIn={opacity:1},t.animOut={opacity:0}}},fadeout:{before:function(t,n,r,i){var s=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(n,r,i),t.cssBefore=e.extend(s,{opacity:1,visibility:"visible",display:"block"}),t.animOut={opacity:0}}},scrollHorz:{before:function(e,t,n,r){e.API.stackSlides(t,n,r);var i=e.container.css("overflow","hidden").width();e.cssBefore={left:r?i:-i,top:0,opacity:1,visibility:"visible",display:"block"},e.cssAfter={zIndex:e._maxZ-2,left:0},e.animIn={left:0},e.animOut={left:r?-i:i}}}},e.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4e3,updateView:0},e(document).ready(function(){e(e.fn.cycle.defaults.autoSelector).cycle()})}(jQuery),function(e){"use strict";function t(t,r){var i,s,o,u=r.autoHeight;if("container"==u)s=e(r.slides[r.currSlide]).outerHeight(),r.container.height(s);else if(r._autoHeightRatio)r.container.height(r.container.width()/r._autoHeightRatio);else if("calc"===u||"number"==e.type(u)&&u>=0){if(o="calc"===u?n(t,r):u>=r.slides.length?0:u,o==r._sentinelIndex)return;r._sentinelIndex=o,r._sentinel&&r._sentinel.remove(),i=e(r.slides[o].cloneNode(!0)),i.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),i.css({position:"static",visibility:"hidden",display:"block"}).prependTo(r.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),i.find("*").css("visibility","hidden"),r._sentinel=i}}function n(t,n){var r=0,i=-1;return n.slides.each(function(t){var n=e(this).height();n>i&&(i=n,r=t)}),r}function r(t,n,r,i){var s=e(i).outerHeight();n.container.animate({height:s},n.autoHeightSpeed,n.autoHeightEasing)}function i(n,o){o._autoHeightOnResize&&(e(window).off("resize orientationchange",o._autoHeightOnResize),o._autoHeightOnResize=null),o.container.off("cycle-slide-added cycle-slide-removed",t),o.container.off("cycle-destroyed",i),o.container.off("cycle-before",r),o._sentinel&&(o._sentinel.remove(),o._sentinel=null)}e.extend(e.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null}),e(document).on("cycle-initialized",function(n,o){function u(){t(n,o)}var a,f=o.autoHeight,l=e.type(f),c=null;("string"===l||"number"===l)&&(o.container.on("cycle-slide-added cycle-slide-removed",t),o.container.on("cycle-destroyed",i),"container"==f?o.container.on("cycle-before",r):"string"===l&&/\d+\:\d+/.test(f)&&(a=f.match(/(\d+)\:(\d+)/),a=a[1]/a[2],o._autoHeightRatio=a),"number"!==l&&(o._autoHeightOnResize=function(){clearTimeout(c),c=setTimeout(u,50)},e(window).on("resize orientationchange",o._autoHeightOnResize)),setTimeout(u,30))})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),e(document).on("cycle-update-view",function(t,n,r,i){"caption"===n.captionModule&&e.each(["caption","overlay"],function(){var e=this,t=r[e+"Template"],o=n.API.getComponent(e);o.length&&t?(o.html(n.API.tmpl(t,r,n,i)),o.show()):o.hide()})}),e(document).on("cycle-destroyed",function(t,n){var r;e.each(["caption","overlay"],function(){var e=this,t=n[e+"Template"];n[e]&&t&&(r=n.API.getComponent("caption"),r.empty())})})}(jQuery),function(e){"use strict";var t=e.fn.cycle;e.fn.cycle=function(n){var r,i,s,o=e.makeArray(arguments);return"number"==e.type(n)?this.cycle("goto",n):"string"==e.type(n)?this.each(function(){var u;return r=n,s=e(this).data("cycle.opts"),void 0===s?(t.log('slideshow must be initialized before sending commands; "'+r+'" ignored'),void 0):(r="goto"==r?"jump":r,i=s.API[r],e.isFunction(i)?(u=e.makeArray(o),u.shift(),i.apply(s.API,u)):(t.log("unknown command: ",r),void 0))}):t.apply(this,arguments)},e.extend(e.fn.cycle,t),e.extend(t.API,{next:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?-1:1;e.allowWrap===!1&&e.currSlide+t>=e.slideCount||(e.API.advanceSlide(t),e.API.trigger("cycle-next",[e]).log("cycle-next"))}},prev:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?1:-1;e.allowWrap===!1&&0>e.currSlide+t||(e.API.advanceSlide(t),e.API.trigger("cycle-prev",[e]).log("cycle-prev"))}},destroy:function(){this.stop();var t=this.opts(),n=e.isFunction(e._data)?e._data:e.noop;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stop(),t.API.trigger("cycle-destroyed",[t]).log("cycle-destroyed"),t.container.removeData(),n(t.container[0],"parsedAttrs",!1),t.retainStylesOnDestroy||(t.container.removeAttr("style"),t.slides.removeAttr("style"),t.slides.removeClass(t.slideActiveClass)),t.slides.each(function(){e(this).removeData(),n(this,"parsedAttrs",!1)})},jump:function(e){var t,n=this.opts();if(!n.busy||n.manualTrump){var r=parseInt(e,10);if(isNaN(r)||0>r||r>=n.slides.length)return n.API.log("goto: invalid slide index: "+r),void 0;if(r==n.currSlide)return n.API.log("goto: skipping, already on slide",r),void 0;n.nextSlide=r,clearTimeout(n.timeoutId),n.timeoutId=0,n.API.log("goto: ",r," (zero-index)"),t=n.currSlide<n.nextSlide,n.API.prepareTx(!0,t)}},stop:function(){var t=this.opts(),n=t.container;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stopTransition(),t.pauseOnHover&&(t.pauseOnHover!==!0&&(n=e(t.pauseOnHover)),n.off("mouseenter mouseleave")),t.API.trigger("cycle-stopped",[t]).log("cycle-stopped")},reinit:function(){var e=this.opts();e.API.destroy(),e.container.cycle()},remove:function(t){for(var n,r,i=this.opts(),s=[],o=1,u=0;i.slides.length>u;u++)n=i.slides[u],u==t?r=n:(s.push(n),e(n).data("cycle.opts").slideNum=o,o++);r&&(i.slides=e(s),i.slideCount--,e(r).remove(),t==i.currSlide?i.API.advanceSlide(1):i.currSlide>t?i.currSlide--:i.currSlide++,i.API.trigger("cycle-slide-removed",[i,t,r]).log("cycle-slide-removed"),i.API.updateView())}}),e(document).on("click.cycle","[data-cycle-cmd]",function(t){t.preventDefault();var n=e(this),r=n.data("cycle-cmd"),i=n.data("cycle-context")||".cycle-slideshow";e(i).cycle(r,n.data("cycle-arg"))})}(jQuery),function(e){"use strict";function t(t,n){var r;return t._hashFence?(t._hashFence=!1,void 0):(r=window.location.hash.substring(1),t.slides.each(function(s){if(e(this).data("cycle-hash")==r){if(n===!0)t.startingSlide=s;else{var o=s>t.currSlide;t.nextSlide=s,t.API.prepareTx(!0,o)}return!1}}),void 0)}e(document).on("cycle-pre-initialize",function(n,r){t(r,!0),r._onHashChange=function(){t(r,!1)},e(window).on("hashchange",r._onHashChange)}),e(document).on("cycle-update-view",function(e,t,n){n.hash&&"#"+n.hash!=window.location.hash&&(t._hashFence=!0,window.location.hash=n.hash)}),e(document).on("cycle-destroyed",function(t,n){n._onHashChange&&e(window).off("hashchange",n._onHashChange)})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{loader:!1}),e(document).on("cycle-bootstrap",function(t,n){function r(t,r){function o(t){var o;"wait"==n.loader?(a.push(t),0===l&&(a.sort(u),i.apply(n.API,[a,r]),n.container.removeClass("cycle-loading"))):(o=e(n.slides[n.currSlide]),i.apply(n.API,[t,r]),o.show(),n.container.removeClass("cycle-loading"))}function u(e,t){return e.data("index")-t.data("index")}var a=[];if("string"==e.type(t))t=e.trim(t);else if("array"===e.type(t))for(var f=0;t.length>f;f++)t[f]=e(t[f])[0];t=e(t);var l=t.length;l&&(t.css("visibility","hidden").appendTo("body").each(function(t){function u(){0===--f&&(--l,o(c))}var f=0,c=e(this),h=c.is("img")?c:c.find("img");return c.data("index",t),h=h.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),h.length?(f=h.length,h.each(function(){this.complete?u():e(this).load(function(){u()}).on("error",function(){0===--f&&(n.API.log("slide skipped; img not loaded:",this.src),0===--l&&"wait"==n.loader&&i.apply(n.API,[a,r]))})}),void 0):(--l,a.push(c),void 0)}),l&&n.container.addClass("cycle-loading"))}var i;n.loader&&(i=n.API.add,n.API.add=r)})}(jQuery),function(e){"use strict";function t(t,n,r){var i,s=t.API.getComponent("pager");s.each(function(){var s=e(this);if(n.pagerTemplate){var o=t.API.tmpl(n.pagerTemplate,n,t,r[0]);i=e(o).appendTo(s)}else i=s.children().eq(t.slideCount-1);i.on(t.pagerEvent,function(e){t.pagerEventBubble||e.preventDefault(),t.API.page(s,e.currentTarget)})})}function n(e,t){var n=this.opts();if(!n.busy||n.manualTrump){var r=e.children().index(t),i=r,s=i>n.currSlide;n.currSlide!=i&&(n.nextSlide=i,n.API.prepareTx(!0,s),n.API.trigger("cycle-pager-activated",[n,e,t]))}}e.extend(e.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerEventBubble:void 0,pagerTemplate:"<span>&bull;</span>"}),e(document).on("cycle-bootstrap",function(e,n,r){r.buildPagerLink=t}),e(document).on("cycle-slide-added",function(e,t,r,s){t.pager&&(t.API.buildPagerLink(t,r,s),t.API.page=n)}),e(document).on("cycle-slide-removed",function(t,n,r){if(n.pager){var i=n.API.getComponent("pager");i.each(function(){var t=e(this);e(t.children()[r]).remove()})}}),e(document).on("cycle-update-view",function(t,n){var r;n.pager&&(r=n.API.getComponent("pager"),r.each(function(){e(this).children().removeClass(n.pagerActiveClass).eq(n.currSlide).addClass(n.pagerActiveClass)}))}),e(document).on("cycle-destroyed",function(e,t){var n=t.API.getComponent("pager");n&&(n.children().off(t.pagerEvent),t.pagerTemplate&&n.empty())})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),e(document).on("cycle-initialized",function(e,t){if(t.API.getComponent("next").on(t.nextEvent,function(e){e.preventDefault(),t.API.next()}),t.API.getComponent("prev").on(t.prevEvent,function(e){e.preventDefault(),t.API.prev()}),t.swipe){var n=t.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",r=t.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";t.container.on(n,function(){t.API.next()}),t.container.on(r,function(){t.API.prev()})}}),e(document).on("cycle-update-view",function(e,t){if(!t.allowWrap){var n=t.disabledClass,r=t.API.getComponent("next"),i=t.API.getComponent("prev"),s=t._prevBoundry||0,o=void 0!==t._nextBoundry?t._nextBoundry:t.slideCount-1;t.currSlide==o?r.addClass(n).prop("disabled",!0):r.removeClass(n).prop("disabled",!1),t.currSlide===s?i.addClass(n).prop("disabled",!0):i.removeClass(n).prop("disabled",!1)}}),e(document).on("cycle-destroyed",function(e,t){t.API.getComponent("prev").off(t.nextEvent),t.API.getComponent("next").off(t.prevEvent),t.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{progressive:!1}),e(document).on("cycle-pre-initialize",function(t,n){if(n.progressive){var r,i,s=n.API,o=s.next,u=s.prev,a=s.prepareTx,f=e.type(n.progressive);if("array"==f)r=n.progressive;else if(e.isFunction(n.progressive))r=n.progressive(n);else if("string"==f){if(i=e(n.progressive),r=e.trim(i.html()),!r)return;if(/^(\[)/.test(r))try{r=e.parseJSON(r)}catch(l){return s.log("error parsing progressive slides",l),void 0}else r=r.split(RegExp(i.data("cycle-split")||"\n")),r[r.length-1]||r.pop()}a&&(s.prepareTx=function(e,t){var i,s;return e||0===r.length?(a.apply(n.API,[e,t]),void 0):(t&&n.currSlide==n.slideCount-1?(s=r[0],r=r.slice(1),n.container.one("cycle-slide-added",function(e,t){setTimeout(function(){t.API.advanceSlide(1)},50)}),n.API.add(s)):t||0!==n.currSlide?a.apply(n.API,[e,t]):(i=r.length-1,s=r[i],r=r.slice(0,i),n.container.one("cycle-slide-added",function(e,t){setTimeout(function(){t.currSlide=1,t.API.advanceSlide(-1)},50)}),n.API.add(s,!0)),void 0)}),o&&(s.next=function(){var e=this.opts();if(r.length&&e.currSlide==e.slideCount-1){var t=r[0];r=r.slice(1),e.container.one("cycle-slide-added",function(e,t){o.apply(t.API),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(t)}else o.apply(e.API)}),u&&(s.prev=function(){var e=this.opts();if(r.length&&0===e.currSlide){var t=r.length-1,n=r[t];r=r.slice(0,t),e.container.one("cycle-slide-added",function(e,t){t.currSlide=1,t.API.advanceSlide(-1),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(n,!0)}else u.apply(e.API)})}})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),e.extend(e.fn.cycle.API,{tmpl:function(t,n){var r=RegExp(n.tmplRegex||e.fn.cycle.defaults.tmplRegex,"g"),i=e.makeArray(arguments);return i.shift(),t.replace(r,function(t,n){var r,o,u,a,f=n.split(".");for(r=0;i.length>r;r++)if(u=i[r]){if(f.length>1)for(a=u,o=0;f.length>o;o++)u=a,a=a[f[o]]||n;else a=u[n];if(e.isFunction(a))return a.apply(u,i);if(void 0!==a&&null!==a&&a!=n)return a}return n})}})}(jQuery),function(e){"use strict";e.event.special.swipe=e.event.special.swipe||{scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var t=e(this);t.bind("touchstart",function(n){function r(t){if(u){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;s={time:(new Date).getTime(),coords:[n.pageX,n.pageY]},Math.abs(u.coords[0]-s.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()}}var s,o=n.originalEvent.touches?n.originalEvent.touches[0]:n,u={time:(new Date).getTime(),coords:[o.pageX,o.pageY],origin:e(n.target)};t.bind("touchmove",r).one("touchend",function(){t.unbind("touchmove",r),u&&s&&s.time-u.time<e.event.special.swipe.durationThreshold&&Math.abs(u.coords[0]-s.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(u.coords[1]-s.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&u.origin.trigger("swipe").trigger(u.coords[0]>s.coords[0]?"swipeleft":"swiperight"),u=s=void 0})})}},e.event.special.swipeleft=e.event.special.swipeleft||{setup:function(){e(this).bind("swipe",e.noop)}},e.event.special.swiperight=e.event.special.swiperight||e.event.special.swipeleft}(jQuery),function(e){function t(){}function n(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function i(t,n){e.fn[t]=function(i){if("string"==typeof i){for(var u=r.call(arguments,1),a=0,f=this.length;f>a;a++){var l=this[a],c=e.data(l,t);if(c)if(e.isFunction(c[i])&&"_"!==i.charAt(0)){var h=c[i].apply(c,u);if(void 0!==h)return h}else s("no such method '"+i+"' for "+t+" instance");else s("cannot call methods on "+t+" prior to initialization; "+"attempted to call '"+i+"'")}return this}return this.each(function(){var r=e.data(this,t);r?(r.option(i),r._init()):(r=new n(this,i),e.data(this,t,r))})}}if(e){var s="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){n(t),i(e,t)},e.bridget}}var r=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n(e.jQuery)}(window),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,r=function(){};n.addEventListener?r=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(r=function(e,n,r){e[n+r]=r.handleEvent?function(){var n=t(e);r.handleEvent.call(r,n)}:function(){var n=t(e);r.call(e,n)},e.attachEvent("on"+n,e[n+r])});var i=function(){};n.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=void 0}});var s={bind:r,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",s):"object"==typeof exports?module.exports=s:e.eventie=s}(this),function(e){function t(e){"function"==typeof e&&(t.isReady?e():s.push(e))}function n(e){var n="readystatechange"===e.type&&"complete"!==i.readyState;if(!t.isReady&&!n){t.isReady=!0;for(var r=0,o=s.length;o>r;r++){var u=s[r];u()}}}function r(r){return r.bind(i,"DOMContentLoaded",n),r.bind(i,"readystatechange",n),r.bind(e,"load",n),t}var i=e.document,s=[];t.isReady=!1,"function"==typeof define&&define.amd?(t.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],r)):e.docReady=r(e.eventie)}(this),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,s=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),s="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(s?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"
),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(r=t(s[i],n),-1!==r&&s[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,s,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],n.once===!0&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=s,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof r[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,s=0,u=n.length;u>s;s++)if(t=n[s]+e,"string"==typeof r[t])return t}}var n="Webkit Moz ms Ms O".split(" "),r=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e),n=-1===e.indexOf("%")&&!isNaN(t);return n&&t}function n(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=o.length;n>t;t++){var r=o[t];e[r]=0}return e}function r(e){function r(e){if("string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=s(e);if("none"===r.display)return n();var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var l=i.isBorderBox=!!f&&!!r[f]&&"border-box"===r[f],c=0,h=o.length;h>c;c++){var d=o[c],v=r[d];v=u(e,v);var m=parseFloat(v);i[d]=isNaN(m)?0:m}var g=i.paddingLeft+i.paddingRight,y=i.paddingTop+i.paddingBottom,b=i.marginLeft+i.marginRight,w=i.marginTop+i.marginBottom,E=i.borderLeftWidth+i.borderRightWidth,S=i.borderTopWidth+i.borderBottomWidth,x=l&&a,T=t(r.width);T!==!1&&(i.width=T+(x?0:g+E));var N=t(r.height);return N!==!1&&(i.height=N+(x?0:y+S)),i.innerWidth=i.width-(g+E),i.innerHeight=i.height-(y+S),i.outerWidth=i.width+b,i.outerHeight=i.height+w,i}}function u(e,t){if(i||-1===t.indexOf("%"))return t;var n=e.style,r=n.left,s=e.runtimeStyle,o=s&&s.left;return o&&(s.left=e.currentStyle.left),n.left=t,t=n.pixelLeft,n.left=r,o&&(s.left=o),t}var a,f=e("boxSizing");return function(){if(f){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[f]="border-box";var n=document.body||document.documentElement;n.appendChild(e);var r=s(e);a=200===t(r.width),n.removeChild(e)}}(),r}var i=e.getComputedStyle,s=i?function(e){return i(e,null)}:function(e){return e.currentStyle},o=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("get-style-property")):e.getSize=r(e.getStyleProperty)}(window),function(e,t){function n(e,t){return e[u](t)}function r(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function i(e,t){r(e);for(var n=e.parentNode.querySelectorAll(t),i=0,s=n.length;s>i;i++)if(n[i]===e)return!0;return!1}function s(e,t){return r(e),n(e,t)}var o,u=function(){if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0,r=e.length;r>n;n++){var i=e[n],s=i+"MatchesSelector";if(t[s])return s}}();if(u){var a=document.createElement("div"),f=n(a,"div");o=f?n:s}else o=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return o}):window.matchesSelector=o}(this,Element.prototype),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){for(var t in e)return!1;return t=null,!0}function r(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function i(e,i,s){function u(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var a=s("transition"),f=s("transform"),l=a&&f,c=!!s("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[a],p=["transform","transition","transitionDuration","transitionProperty"],d=function(){for(var e={},t=0,n=p.length;n>t;t++){var r=p[t],i=s(r);i&&i!==r&&(e[r]=i)}return e}();t(u.prototype,e.prototype),u.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},u.prototype.getSize=function(){this.size=i(this.element)},u.prototype.css=function(e){var t=this.element.style;for(var n in e){var r=d[n]||n;t[r]=e[n]}},u.prototype.getPosition=function(){var e=o(this.element),t=this.layout.options,n=t.isOriginLeft,r=t.isOriginTop,i=parseInt(e[n?"left":"right"],10),s=parseInt(e[r?"top":"bottom"],10);i=isNaN(i)?0:i,s=isNaN(s)?0:s;var u=this.layout.size;i-=n?u.paddingLeft:u.paddingRight,s-=r?u.paddingTop:u.paddingBottom,this.position.x=i,this.position.y=s},u.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={};t.isOriginLeft?(n.left=this.position.x+e.paddingLeft+"px",n.right=""):(n.right=this.position.x+e.paddingRight+"px",n.left=""),t.isOriginTop?(n.top=this.position.y+e.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+e.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var v=c?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};u.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,r=this.position.y,i=parseInt(e,10),s=parseInt(t,10),o=i===this.position.x&&s===this.position.y;if(this.setPosition(e,t),o&&!this.isTransitioning)return this.layoutPosition(),void 0;var u=e-n,a=t-r,f={},l=this.layout.options;u=l.isOriginLeft?u:-u,a=l.isOriginTop?a:-a,f.transform=v(u,a),this.transition({to:f,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},u.prototype.moveTo=l?u.prototype._transitionTo:u.prototype.goTo,u.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},u.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},u.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(e),void 0;var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);var r=this.element.offsetHeight;r=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var m=f&&r(f)+",opacity";u.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},u.prototype.transition=u.prototype[a?"_transition":"_nonTransition"],u.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},u.prototype.onotransitionend=function(e){this.ontransitionend(e)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};u.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,r=g[e.propertyName]||e.propertyName;if(delete t.ingProperties[r],n(t.ingProperties)&&this.disableTransition(),r in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[r]),r in t.onEnd){var i=t.onEnd[r];i.call(this),delete t.onEnd[r]}this.emitEvent("transitionEnd",[this])}},u.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},u.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var y={transitionProperty:"",transitionDuration:""};return u.prototype.removeTransitionStyles=function(){this.css(y)},u.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},u.prototype.remove=function(){if(!a||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()},u.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},u.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},u.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},u}var s=e.getComputedStyle,o=s?function(e){return s(e,null)}:function(e){return e.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],i):(e.Outlayer={},e.Outlayer.Item=i(e.EventEmitter,e.getSize,e.getStyleProperty))}(window),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===c.call(e)}function r(e){var t=[];if(n(e))t=e;else if(e&&"number"==typeof e.length)for(var r=0,i=e.length;i>r;r++)t.push(e[r]);else t.push(e);return t}function i(e,t){var n=p(t,e);-1!==n&&t.splice(n,1)}function s(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()}function o(n,o,c,p,d,v){function m(e,n){if("string"==typeof e&&(e=u.querySelector(e)),!e||!h(e))return a&&a.error("Bad "+this.constructor.namespace+" element: "+e),void 0;this.element=e,this.options=t({},this.constructor.defaults),this.option(n);var r=++g;this.element.outlayerGUID=r,y[r]=this,this._create(),this.options.isInitLayout&&this.layout()}var g=0,y={};return m.namespace="outlayer",m.Item=v,m.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},t(m.prototype,c.prototype),m.prototype.option=function(e){t(this.options,e)},m.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),t(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},m.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},m.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,r=[],i=0,s=t.length;s>i;i++){var o=t[i],u=new n(o,this);r.push(u)}return r},m.prototype._filterFindItemElements=function(e){e=r(e);for(var t=this.options.itemSelector,n=[],i=0,s=e.length;s>i;i++){var o=e[i];if(h(o))if(t){d(o,t)&&n.push(o);for(var u=o.querySelectorAll(t),a=0,f=u.length;f>a;a++)n.push(u[a])}else n.push(o)}return n},m.prototype.getItemElements=function(){for(var e=[],t=0,n=this.items.length;n>t;t++)e.push(this.items[t].element);return e},m.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},m.prototype._init=m.prototype.layout,m.prototype._resetLayout=function(){this.getSize()},m.prototype.getSize=function(){this.size=p(this.element)},m.prototype._getMeasurement=function(e,t){var n,r=this.options[e];r?("string"==typeof r?n=this.element.querySelector(r):h(r)&&(n=r),this[e]=n?p(n)[t]:r):this[e]=0},m.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},m.prototype._getItemsForLayout=function(e){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n];i.isIgnored||t.push(i)}return t},m.prototype._layoutItems=function(e,t){function n(){r.emitEvent("layoutComplete",[r,e])}var r=this;if(!e||!e.length)return n(),void 0;this._itemsOn(e,"layout",n);for(var i=[],s=0,o=e.length;o>s;s++){var u=e[s],a=this._getItemLayoutPosition(u);a.item=u,a.isInstant=t||u.isLayoutInstant,i.push(a)}this._processLayoutQueue(i)},m.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},m.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];this._positionItem(r.item,r.x,r.y,r.isInstant)}},m.prototype._positionItem=function(e,t,n,r){r?e.goTo(t,n):e.moveTo(t,n)},m.prototype._postLayout=function(){this.resizeContainer()},m.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},m.prototype._getContainerSize=l,m.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},m.prototype._itemsOn=function(e,t,n){function r(){return i++,i===s&&n.call(o),!0}for(var i=0,s=e.length,o=this,u=0,a=e.length;a>u;u++){var f=e[u];f.on(t,r)}},m.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},m.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},m.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;n>t;t++){var r=e[t];this.ignore(r)}}},m.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,n=e.length;n>t;t++){var r=e[t];i(r,this.stamps),this.unignore(r)}},m.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r(e)):void 0},m.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var n=this.stamps[e];this._manageStamp(n)}}},m.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},m.prototype._manageStamp=l,m.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,r=p(e),i={left:t.left-n.left-r.marginLeft,top:t.top-n.top-r.marginTop,right:n.right-t.right-r.marginRight,bottom:n.bottom-t.bottom-r.marginBottom};return i},m.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},m.prototype.bindResize=function(){this.isResizeBound||(n.bind(e,"resize",this),this.isResizeBound=!0)},m.prototype.unbindResize=function(){this.isResizeBound&&n.unbind(e,"resize",this),this.isResizeBound=!1},m.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},m.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},m.prototype.needsResizeLayout=function(){var e=p(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},m.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},m.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},m.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},m.prototype.reveal=function(e){var t=e&&e.length;if(t)for(var n=0;t>n;n++){var r=e[n];r.reveal()}},m.prototype.hide=function(e){var t=e&&e.length;if(t)for(var n=0;t>n;n++){var r=e[n];r.hide()}},m.prototype.getItem=function(e){for(var t=0,n=this.items.length;n>t;t++){var r=this.items[t];if(r.element===e)return r}},m.prototype.getItems=function(e){if(e&&e.length){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n],s=this.getItem(i);s&&t.push(s)}return t}},m.prototype.remove=function(e){e=r(e);var t=this.getItems(e);if(t&&t.length){this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var n=0,s=t.length;s>n;n++){var o=t[n];o.remove(),i(o,this.items)}}},m.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;n>t;t++){var r=this.items[t];r.destroy()}this.unbindResize(),delete this.element.outlayerGUID,f&&f.removeData(this.element,this.constructor.namespace)},m.data=function(e){var t=e&&e.outlayerGUID;return t&&y[t]},m.create=function(e,n){function r(){m.apply(this,arguments)}return Object.create?r.prototype=Object.create(m.prototype):t(r.prototype,m.prototype),r.prototype.constructor=r,r.defaults=t({},m.defaults),t(r.defaults,n),r.prototype.settings={},r.namespace=e,r.data=m.data,r.Item=function(){v.apply(this,arguments)},r.Item.prototype=new v,o(function(){for(var t=s(e),n=u.querySelectorAll(".js-"+t),i="data-"+t+"-options",o=0,l=n.length;l>o;o++){var c,h=n[o],p=h.getAttribute(i);try{c=p&&JSON.parse(p)}catch(d){a&&a.error("Error parsing "+i+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+d);continue}var v=new r(h,c);f&&f.data(h,e,v)}}),f&&f.bridget&&f.bridget(e,r),r},m.Item=v,m}var u=e.document,a=e.console,f=e.jQuery,l=function(){},c=Object.prototype.toString,h="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},p=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],o):e.Outlayer=o(e.eventie,e.docReady,e.EventEmitter,e.getSize,e.matchesSelector,e.Outlayer.Item)}(window),function(e){function t(e){function t(){e.Item.apply(this,arguments)}return t.prototype=new e.Item,t.prototype._create=function(){this.id=this.layout.itemGUID++,e.Item.prototype._create.call(this),this.sortData={}},t.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e=this.layout.options.getSortData,t=this.layout._sorters;for(var n in e){var r=t[n];this.sortData[n]=r(this.element,this)}}},t}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],t):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window),function(e){function t(e,t){function n(e){this.isotope=e,e&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}return function(){function e(e){return function(){return t.prototype[e].apply(this.isotope,arguments)}}for(var r=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],s=0,o=r.length;o>s;s++){var u=r[s];n.prototype[u]=e(u)}}(),n.prototype.needsVerticalResizeLayout=function(){var t=e(this.isotope.element),n=this.isotope.size&&t;return n&&t.innerHeight!==this.isotope.size.innerHeight},n.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},n.prototype.getSegmentSize=function(e,t){var n=e+t,r="outer"+t;if(this._getMeasurement(n,r),!this[n]){var i=this.getFirstItemSize();this[n]=i&&i[r]||this.isotope.size["inner"+t]}},n.prototype.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},n.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(e,t){function r(){n.apply(this,arguments)}return r.prototype=new n,t&&(r.options=t),r.prototype.namespace=e,n.modes[e]=r,r},n}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window),function(e){function t(e,t){var r=e.create("masonry");return r.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},r.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},r.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},r.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,r=t&&1>t?"round":"ceil",s=Math[r](e.size.outerWidth/this.columnWidth);s=Math.min(s,this.cols);for(var o=this._getColGroup(s),u=Math.min.apply(Math,o),a=n(o,u),f={x:this.columnWidth*a,y:u},l=u+e.size.outerHeight,c=this.cols+1-o.length,h=0;c>h;h++)this.colYs[a+h]=l;return f},r.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],n=this.cols+1-e,r=0;n>r;r++){var i=this.colYs.slice(r,r+e);t[r]=Math.max.apply(Math,i)}return t},r.prototype._manageStamp=function(e){var n=t(e),r=this._getElementOffset(e),i=this.options.isOriginLeft?r.left:r.right,s=i+n.outerWidth,o=Math.floor(i/this.columnWidth);o=Math.max(0,o);var u=Math.floor(s/this.columnWidth);u-=s%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var a=(this.options.isOriginTop?r.top:r.bottom)+n.outerHeight,f=o;u>=f;f++)this.colYs[f]=Math.max(a,this.colYs[f])},r.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},r.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},r.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},r}var n=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;r>n;n++){var i=e[n];if(i===t)return n}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],t):e.Masonry=t(e.Outlayer,e.getSize)}(window),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e,n){var r=e.create("masonry"),i=r.prototype._getElementOffset,s=r.prototype.layout,o=r.prototype._getMeasurement;t(r.prototype,n.prototype),r.prototype._getElementOffset=i,r.prototype.layout=s,r.prototype._getMeasurement=o;var u=r.prototype.measureColumns;r.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,u.call(this)};var a=r.prototype._manageStamp;return r.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,a.apply(this,arguments)},r}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],n):n(e.Isotope.LayoutMode,e.Masonry)}(window),function(e){function t(e){var t=e.create("fitRows");return t.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0},t.prototype._getItemLayoutPosition=function(e){e.getSize(),0!==this.x&&e.size.outerWidth+this.x>this.isotope.size.innerWidth&&(this.x=0,this.y=this.maxY);var t={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=e.size.outerWidth,t},t.prototype._getContainerSize=function(){return{height:this.maxY}},t}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],t):t(e.Isotope.LayoutMode)}(window),function(e){function t(e){var t=e.create("vertical",{horizontalAlignment:0});return t.prototype._resetLayout=function(){this.y=0},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,n=this.y;return this.y+=e.size.outerHeight,{x:t,y:n}},t.prototype._getContainerSize=function(){return{height:this.y}},t}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],t):t(e.Isotope.LayoutMode)}(window),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===l.call(e)}function r(e){var t=[];if(n(e))t=e;else if(e&&"number"==typeof e.length)for(var r=0,i=e.length;i>r;r++)t.push(e[r]);else t.push(e);return t}function i(e,t){var n=c(t,e);-1!==n&&t.splice(n,1)}function s(e,n,s,a,l){function c(e,t){return function(n,r){for(var i=0,s=e.length;s>i;i++){var o=e[i],u=n.sortData[o],a=r.sortData[o];if(u>a||a>u){var f=void 0!==t[o]?t[o]:t,l=f?1:-1;return(u>a?1:-1)*l}}return 0}}var h=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});h.Item=a,h.LayoutMode=l,h.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in l.modes)this._initLayoutMode(t)},h.prototype.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},h.prototype._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),n=0,r=t.length;r>n;n++){var i=t[n];i.id=this.itemGUID++}return this._updateItemsSortData(t),t},h.prototype._initLayoutMode=function(e){var n=l.modes[e],r=this.options[e]||{};this.options[e]=n.options?t(n.options,r):r,this.modes[e]=new n(this)},h.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?(this.arrange(),void 0):(this._layout(),void 0)},h.prototype._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},h.prototype.arrange=function(e){this.option(e),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},h.prototype._init=h.prototype.arrange,h.prototype._getIsInstant=function(){var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=e,e},h.prototype._filter=function(e){function t(){c.reveal(i),c.hide(s)}var n=this.options.filter;n=n||"*";for(var r=[],i=[],s=[],o=this._getFilterTest(n),u=0,a=e.length;a>u;u++){var f=e[u];if(!f.isIgnored){var l=o(f);l&&r.push(f),l&&f.isHidden?i.push(f):l||f.isHidden||s.push(f)}}var c=this;return this._isInstant?this._noTransition(t):t(),r},h.prototype._getFilterTest=function(e){return o&&this.options.isJQueryFiltering?function(t){return o(t.element).is(e)}:"function"==typeof e?function(t){return e(t.element)}:function(t){return s(t.element,e)}},h.prototype.updateSortData=function(e){this._getSorters(),e=r(e);var t=this.getItems(e);t=t.length?t:this.items,this._updateItemsSortData(t)},h.prototype._getSorters=function(){var e=this.options.getSortData;for(var t in e){var n=e[t];this._sorters[t]=d(n)}},h.prototype._updateItemsSortData=function(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];r.updateSortData()}};var d=function(){function e(e){if("string"!=typeof e)return e;var n=u(e).split(" "),r=n[0],i=r.match(/^\[(.+)\]$/),s=i&&i[1],o=t(s,r),a=h.sortDataParsers[n[1]];return e=a?function(e){return e&&a(o(e))}:function(e){return e&&o(e)}}function t(e,t){var n;return n=e?function(t){return t.getAttribute(e)}:function(e){var n=e.querySelector(t);return n&&f(n)}}return e}();h.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},h.prototype._sort=function(){var e=this.options.sortBy;if(e){var t=[].concat.apply(e,this.sortHistory),n=c(t,this.options.sortAscending);this.filteredItems.sort(n),e!==this.sortHistory[0]&&this.sortHistory.unshift(e)}},h.prototype._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw Error("No layout mode: "+e);return t.options=this.options[e],t},h.prototype._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},h.prototype._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},h.prototype._manageStamp=function(e){this._mode()._manageStamp(e)},h.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},h.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},h.prototype.appended=function(e){var t=this.addItems(e);if(t.length){var n=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(n)}},h.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps();var r=this._filterRevealAdded(t);this.layoutItems(n),this.filteredItems=r.concat(this.filteredItems)}},h.prototype._filterRevealAdded=function(e){var t=this._noTransition(function(){return this._filter(e)});return this.layoutItems(t,!0),this.reveal(t),e},h.prototype.insert=function(e){var t=this.addItems(e);if(t.length){var n,r,i=t.length;for(n=0;i>n;n++)r=t[n],this.element.appendChild(r.element);var s=this._filter(t);for(this._noTransition(function(){this.hide(s)}),n=0;i>n;n++)t[n].isLayoutInstant=!0;for(this.arrange(),n=0;i>n;n++)delete t[n].isLayoutInstant;this.reveal(s)}};var v=h.prototype.remove;return h.prototype.remove=function(e){e=r(e);var t=this.getItems(e);if(v.call(this,e),t&&t.length)for(var n=0,s=t.length;s>n;n++){var o=t[n];i(o,this.filteredItems)}},h.prototype._noTransition=function(e){var t=this.options.transitionDuration;this.options.transitionDuration=0;var n=e.call(this);return this.options.transitionDuration=t,n},h}var o=e.jQuery,u=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},a=document.documentElement,f=a.textContent?function(e){return e.textContent}:function(e){return e.innerText},l=Object.prototype.toString,c=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],s):e.Isotope=s(e.Outlayer,e.getSize,e.matchesSelector,e.Isotope.Item,e.Isotope.LayoutMode)}(window),window.Modernizr=function(e,t,n){function r(e,t){var n=e.charAt(0).toUpperCase()+e.substr(1),r=(e+" "+E.join(n+" ")+n).split(" ");return i(r,t)}function i(e,t){for(var r in e)if(m[e[r]]!==n)return t=="pfx"?e[r]:!0;return!1}function s(e,t){return!!~(""+e).indexOf(t)}function o(e,t){return typeof e===t}function u(e,t){return a(w.join(e+";")+(t||""
))}function a(e){m.cssText=e}var f="2.0.4",l={},c=!0,h=t.documentElement,p=t.head||t.getElementsByTagName("head")[0],d="modernizr",v=t.createElement(d),m=v.style,g,y=":)",b=Object.prototype.toString,w=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),E="Webkit Moz O ms Khtml".split(" "),S={},x={},T={},N=[],C=function(e,n,r,i){var s,o,u,a=t.createElement("div");if(parseInt(r,10))while(r--)u=t.createElement("div"),u.id=i?i[r]:d+(r+1),a.appendChild(u);return s=["&shy;","<style>",e,"</style>"].join(""),a.id=d,a.innerHTML+=s,h.appendChild(a),o=n(a,e),a.parentNode.removeChild(a),!!o},k,L={}.hasOwnProperty,A;!o(L,n)&&!o(L.call,n)?A=function(e,t){return L.call(e,t)}:A=function(e,t){return t in e&&o(e.constructor.prototype[t],n)};var O=function(e,n){var r=e.join(""),i=n.length;C(r,function(e,n){var r=t.styleSheets[t.styleSheets.length-1],s=r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"",o=e.childNodes,u={};while(i--)u[o[i].id]=o[i];l.generatedcontent=u.generatedcontent.offsetHeight>=1},i,n)}([,['#generatedcontent:after{content:"',y,'"}'].join("")],[,"generatedcontent"]);S.rgba=function(){return a("background-color:rgba(150,255,150,.5)"),s(m.backgroundColor,"rgba")},S.borderradius=function(){return r("borderRadius")},S.boxshadow=function(){return r("boxShadow")},S.textshadow=function(){return t.createElement("div").style.textShadow===""},S.cssanimations=function(){return r("animationName")},S.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return a((e+w.join(t+e)+w.join(n+e)).slice(0,-e.length)),s(m.backgroundImage,"gradient")},S.csstransforms=function(){return!!i(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},S.csstransitions=function(){return r("transitionProperty")},S.generatedcontent=function(){return l.generatedcontent};for(var M in S)A(S,M)&&(k=M.toLowerCase(),l[k]=S[M](),N.push((l[k]?"":"no-")+k));return a(""),v=g=null,e.attachEvent&&function(){var e=t.createElement("div");return e.innerHTML="<elem></elem>",e.childNodes.length!==1}()&&function(e,t){function r(e){var t=-1;while(++t<u)e.createElement(o[t])}e.iepp=e.iepp||{};var i=e.iepp,s=i.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",o=s.split("|"),u=o.length,a=new RegExp("(^|\\s)("+s+")","gi"),f=new RegExp("<(/*)("+s+")","gi"),l=/^\s*[\{\}]\s*$/,c=new RegExp("(^|[^\\n]*?\\s)("+s+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),h=t.createDocumentFragment(),p=t.documentElement,d=p.firstChild,v=t.createElement("body"),m=t.createElement("style"),g=/print|all/,y;i.getCSS=function(e,t){if(e+""===n)return"";var r=-1,s=e.length,o,u=[];while(++r<s){o=e[r];if(o.disabled)continue;t=o.media||t,g.test(t)&&u.push(i.getCSS(o.imports,t),o.cssText),t="all"}return u.join("")},i.parseCSS=function(e){var t=[],n;while((n=c.exec(e))!=null)t.push(((l.exec(n[1])?"\n":n[1])+n[2]+n[3]).replace(a,"$1.iepp_$2")+n[4]);return t.join("\n")},i.writeHTML=function(){var e=-1;y=y||t.body;while(++e<u){var n=t.getElementsByTagName(o[e]),r=n.length,i=-1;while(++i<r)n[i].className.indexOf("iepp_")<0&&(n[i].className+=" iepp_"+o[e])}h.appendChild(y),p.appendChild(v),v.className=y.className,v.id=y.id,v.innerHTML=y.innerHTML.replace(f,"<$1font")},i._beforePrint=function(){m.styleSheet.cssText=i.parseCSS(i.getCSS(t.styleSheets,"all")),i.writeHTML()},i.restoreHTML=function(){v.innerHTML="",p.removeChild(v),p.appendChild(y)},i._afterPrint=function(){i.restoreHTML(),m.styleSheet.cssText=""},r(t),r(h),i.disablePP||(d.insertBefore(m,d.firstChild),m.media="print",m.className="iepp-printshim",e.attachEvent("onbeforeprint",i._beforePrint),e.attachEvent("onafterprint",i._afterPrint))}(e,t),l._version=f,l._prefixes=w,l._domPrefixes=E,l.testProp=function(e){return i([e])},l.testAllProps=r,l.testStyles=C,h.className=h.className.replace(/\bno-js\b/,"")+(c?" js "+N.join(" "):""),l}(this,this.document);var LevelUp=function(e,t){var n=e.parallax=e.parallax||{};return t(document).ready(function(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e||t(".js-parallax").each(function(){var e=t(this);t(window).scroll(function(){var n=(t(window).scrollTop()-e.offset().top)/e.data("speed"),r="50% "+n+"px";e.css({backgroundPosition:r})})})}),e}(LevelUp||{},jQuery),LevelUp=function(e,t){var n=e.passwordStrength=e.passwordStrength||{},r=["levelup","scvngr"],i="meter";n.meter=function(e){t(e).each(function(e,n){var r=t(n),s=r.siblings("."+i);r.length&&s.length&&a(s,r)})};var s=function(e){return{0:"very-weak",1:"weak",2:"so-so",3:"good",4:"great"}[e]},o=function(e){return r.concat(e)},u={isDefined:function(){return!!window.zxcvbn},score:function(e,t){return zxcvbn(e,t).score}},a=function(e,t){var n="",r=t.parent(".input").siblings().children("input");setInterval(function(){var a=t.val();if(a!==n&&u.isDefined()){var l=u.score(a,o(f(r)));e.attr("class",i).addClass(s(l)),n=a}},350)},f=function(e){return t.map(e,function(e){return t(e).val()})};return e}(LevelUp||{},jQuery);(function(e,t,n){function c(e){var t={},r=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!r.test(n.name)&&(t[n.name]=n.value)}),t}function h(e,t){var r=this,i=n(r);if(r.value==i.attr("placeholder")&&i.hasClass("placeholder"))if(i.data("placeholder-password")){i=i.hide().next().show().attr("id",i.removeAttr("id").data("placeholder-id"));if(e===!0)return i[0].value=t;i.focus()}else r.value="",i.removeClass("placeholder"),r==d()&&r.select()}function p(){var e,t=this,r=n(t),i=this.id;if(t.value==""){if(t.type=="password"){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(s){e=n("<input>").attr(n.extend(c(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":r,"placeholder-id":i}).bind("focus.placeholder",h),r.data({"placeholder-textinput":e,"placeholder-id":i}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",i).show()}r.addClass("placeholder"),r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}function d(){try{return t.activeElement}catch(e){}}var r=Object.prototype.toString.call(e.operamini)=="[object OperaMini]",i="placeholder"in t.createElement("input")&&!r,s="placeholder"in t.createElement("textarea")&&!r,o=n.fn,u=n.valHooks,a=n.propHooks,f,l;i&&s?(l=o.placeholder=function(){return this},l.input=l.textarea=!0):(l=o.placeholder=function(){var e=this;return e.filter((i?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":h,"blur.placeholder":p}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},l.input=i,l.textarea=s,f={get:function(e){var t=n(e),r=t.data("placeholder-password");return r?r[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var r=n(e),i=r.data("placeholder-password");return i?i[0].value=t:r.data("placeholder-enabled")?(t==""?(e.value=t,e!=d()&&p.call(e)):r.hasClass("placeholder")?h.call(e,!0,t)||(e.value=t):e.value=t,r):e.value=t}},i||(u.input=f,a.value=f),s||(u.textarea=f,a.value=f),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(h);setTimeout(function(){e.each(p)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))})(this,document,jQuery),function(e){function t(e,t){return typeof e=="function"?e.call(t):e}function n(t,n){var r;this.$element=e(t),this.options=n,this.enabled=!0,this.fixTitle()}n.prototype={show:function(){var n=this.getTitle();if(n&&this.enabled){var r=this.tip();r.find(".tipsy-inner")[this.options.html?"html":"text"](n),r[0].className="tipsy",r.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body),pos=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var i=r[0].offsetWidth,s=r[0].offsetHeight,o=t(this.options.gravity,this.$element[0]),u;switch(o.charAt(0)){case"n":u={top:pos.top+pos.height+this.options.offset,left:pos.left+pos.width/2-i/2};break;case"s":u={top:pos.top-s-this.options.offset,left:pos.left+pos.width/2-i/2};break;case"e":u={top:pos.top+pos.height/2-s/2,left:pos.left-i-this.options.offset};break;case"w":u={top:pos.top+pos.height/2-s/2,left:pos.left+pos.width+this.options.offset}}o.length==2&&(o.charAt(1)=="w"?u.left=pos.left+pos.width/2-15:u.left=pos.left+pos.width/2-i+15),r.css(u).addClass("tipsy-"+o),r.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+o.charAt(0),this.options.className&&r.addClass(t(this.options.className,this.$element[0])),this.options.fade?r.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):this.options.slideFade?r.stop().css({opacity:0,display:"block",visibility:"visible",top:pos.top-s*1.5}).animate({top:pos.top-s-this.options.offset,opacity:.8},175):r.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){var t=this.tip();this.options.fade?t.stop().fadeOut(function(){e(this).remove()}):this.options.slideFade?this.tip().stop().animate({top:pos.top-50,opacity:0},175,function(){e(this).remove()}):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("original-title")!="string")&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,n=this.options;this.fixTitle();var e,n=this.options;return typeof n.title=="string"?e=t.attr(n.title=="title"?"original-title":n.title):typeof n.title=="function"&&(e=n.title.call(t[0])),e=(""+e).replace(/(^\s*|\s*$)/,""),e||n.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){function i(r){var i=e.data(r,"tipsy");return i||(i=new n(r,e.fn.tipsy.elementOptions(r,t)),e.data(r,"tipsy",i)),i}function s(){var e=i(this);e.hoverState="in",t.delayIn==0?e.show():(e.fixTitle(),setTimeout(function(){e.hoverState=="in"&&e.show()},t.delayIn))}function o(){var e=i(this);e.hoverState="out",t.delayOut==0?e.hide():setTimeout(function(){e.hoverState=="out"&&e.hide()},t.delayOut)}if(t===!0)return this.data("tipsy");if(typeof t=="string"){var r=this.data("tipsy");return r&&r[t](),this}t=e.extend({},e.fn.tipsy.defaults,t),t.live||this.each(function(){i(this)});if(t.trigger!="manual"){var u=t.live?"live":"bind",a=t.trigger=="hover"?"mouseenter":"focus",f=t.trigger=="hover"?"mouseleave":"blur";this[u](a,s)[u](f,o)}return this},e.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,slideFade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"},e.fn.tipsy.autoBounds=function(t,n){return function(){var r={ns:n[0],ew:n.length>1?n[1]:!1},i=e(document).scrollTop()+t,s=e(document).scrollLeft()+t,o=e(this);return o.offset().top<i&&(r.ns="n"),o.offset().left<s&&(r.ew="w"),e(window).width()+e(document).scrollLeft()-o.offset().left<t&&(r.ew="e"),e(window).height()+e(document).scrollTop()-o.offset().top<t&&(r.ns="s"),r.ns+(r.ew?r.ew:"")}}}(jQuery);var LevelUp=function(e,t){var n=e.ui=e.ui||{};return n.init=function(){t(".tip").tipsy({delayOut:350,fade:!0,gravity:"s",html:!0,offset:"7",opacity:.92}),t(".chzn-select").chosen(),t("[rel=toggle]").click(function(e){e.preventDefault();var n=t(this),r=n.parents(".toggle-parent"),i=r.children("menu");i.toggleClass("hidden")}),t(".js-fake-flash").slideDown(),t("[rel=button-toggle]").click(function(e){t(this).hide();var n=t(this).parent().find(".button-toggle-target");return n.slideDown(225,function(){n.find("input").first().focus()}),!1})},e}(LevelUp||{},jQuery),LevelUp=function(e,t){var n=e.mapStyles=e.mapStyles||{};return n.muted=[{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"landscape",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{lightness:15},{saturation:-30}]},{featureType:"road.local",elementType:"geometry",stylers:[{hue:"#4cff00"},{gamma:.77},{saturation:13},{lightness:8}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#00a1ff"},{saturation:16},{lightness:25}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]}],n.salesMap=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#555555"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#0691FD"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#cccccc"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#FF8D00"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#cccccc"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f8f8f8"}]},{featureType:"all",elementType:"geometry",stylers:[{saturation:-10}]}],e}(LevelUp||{},jQuery),LevelUp=function(e,t){var n=e.maps=e.maps||{},r="/assets/shared/marker_default-e3408cbb20d3cbf3e5de861b7ee08994.png",i="/assets/shared/marker_hover-b37041e47c90cdd1df67eb0541e76a20.png",s=e.mapStyles=e.mapStyles||{},o,u,a,f={};return n.addPlaceMarkersForEach=function(e){var n=new google.maps.LatLngBounds;t(e).each(function(e,r){var i=t(r).data("lat"),s=t(r).data("lng"),l=new google.maps.LatLng(i,s);n.extend(l),f[e]=new google.maps.Marker({icon:o,map:a,position:l}),google.maps.event.addListener(f[e],"mouseover",function(){f[e].setIcon(u),t(r).addClass("hover")}),google.maps.event.addListener(f[e],"mouseout",function(){f[e].setIcon(o),t(r).removeClass("hover")}),t(r).mouseenter(function(){f[e].setIcon(u)}),t(r).mouseleave(function(){f[e].setIcon(o)})}),a.fitBounds(n)},n.initializeMap=function(e){o=new google.maps.MarkerImage(r),u=new google.maps.MarkerImage(i),a=new google.maps.Map(t("#map_canvas")[0],{center:new google.maps.LatLng(0,0),mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,scrollwheel:!1,streetViewControl:!1,styles:s.muted,zoom:14,zoomControlOptions:{position:google.maps.ControlPosition.TOP_LEFT,style:"small"}}),a.setOptions(e)},e}(LevelUp||{},jQuery);(function(e){"use strict";function t(e,t){if(this.createTextRange){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t-e),n.select()}else this.setSelectionRange&&(this.focus(),this.setSelectionRange(e,t))}function n(e){var t=this.value.length;e=e.toLowerCase()=="start"?"Start":"End";if(document.selection){var n=document.selection.createRange(),r,i,s;return r=n.duplicate(),r.expand("textedit"),r.setEndPoint("EndToEnd",n),i=r.text.length-n.text.length,s=i+n.text.length,e=="Start"?i:s}return typeof this["selection"+e]!="undefined"&&(t=this["selection"+e]),t}var r={codes:{188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};e.fn.number=function(i,s,o,u){u=typeof u=="undefined"?",":u,o=typeof o=="undefined"?".":o,s=typeof s=="undefined"?0:s;var a="\\u"+("0000"+o.charCodeAt(0).toString(16)).slice(-4),f=new RegExp("[^"+a+"0-9]","g"),l=new RegExp(a,"g");return i===!0?this.is("input:text")?this.on({"keydown.format":function(i){var a=e(this),c=a.data("numFormat"),h=i.keyCode?i.keyCode:i.which,p="",d=n.apply(this,["start"]),v=n.apply(this,["end"]),m="",g=!1;r.codes.hasOwnProperty(h)&&(h=r.codes[h]),!i.shiftKey&&h>=65&&h<=90?h+=32:!i.shiftKey&&h>=69&&h<=105?h-=48:i.shiftKey&&r.shifts.hasOwnProperty(h)&&(p=r.shifts[h]),p==""&&(p=String.fromCharCode(h));if(h!==8&&p!=o&&!p.match(/[0-9]/)){var y=!0;p.match(/[-]/)&&(c.isNegative||(c.isNegative=!0,y=!1));if(y){var b=i.keyCode?i.keyCode:i.which;if(b==46||b==8||b==9||b==27||b==13||(b==65||b==82)&&(i.ctrlKey||i.metaKey)===!0||(b==86||b==67)&&(i.ctrlKey||i.metaKey)===!0||b>=35&&b<=39)return;return i.preventDefault(),!1}}d==0&&v==this.value.length||a.val()==0?h===8?(d=v=1,this.value="",c.init=s>0?-1:0,c.c=s>0?-(s+1):0,t.apply(this,[0,0])):p===o?(d=v=1,this.value="0"+o+(new Array(s+1)).join("0"),c.init=s>0?1:0,c.c=s>0?-(s+1):0):this.value.length===0&&(c.init=s>0?-1:0,c.c=s>0?-s:0):c.c=v-this.value.length;if(h==8&&d<=1&&c.isNegative)i.preventDefault(),c.isNegative=!1,c.c--,g=this.value.length+c.c;else if(s>0&&p==o&&d==this.value.length-s-1)c.c++,c.init=Math.max(0,c.init),i.preventDefault(),g=this.value.length+c.c;else if(p==o)c.init=Math.max(0,c.init),i.preventDefault();else if(s>0&&h==8&&d==this.value.length-s)i.preventDefault(),c.c--,g=this.value.length+c.c;else if(s>0&&h==8&&d>this.value.length-s){if(this.value==="")return;this.value.slice(d-1,d)!="0"&&(m=this.value.slice(0,d-1)+"0"+this.value.slice(d),a.val(m.replace(f,"").replace(l,o))),i.preventDefault(),c.c--,g=this.value.length+c.c}else h==8&&this.value.slice(d-1,d)==u?(i.preventDefault(),c.c--,g=this.value.length+c.c):s>0&&d==v&&this.value.length>s+1&&d>this.value.length-s-1&&isFinite(+p)&&!i.metaKey&&!i.ctrlKey&&!i.altKey&&p.length===1&&(v===this.value.length?m=this.value.slice(0,d-1):m=this.value.slice(0,d)+this.value.slice(d+1),this.value=m,g=d);g!==!1&&t.apply(this,[g,g]),a.data("numFormat",c)},"keyup.format":function(r){var i=e(this),o=i.data("numFormat"),u=r.keyCode?r.keyCode:r.which,a=n.apply(this,["start"]),f;if(this.value===""||(u<48||u>57)&&(u<96||u>105)&&u!==8)return;i.val(i.val()),s>0&&(o.init<1?(a=this.value.length-s-(o.init<0?1:0),o.c=a-this.value.length,o.init=1,i.data("numFormat",o)):a>this.value.length-s&&u!=8&&(o.c++,i.data("numFormat",o))),i.get(0).value.length?o.isNegative&&(i.get(0).value="-"+this.value):o.isNegative=!1,f=this.value.length+o.c,t.apply(this,[f,f])},"paste.format":function(t){var n=e(this),r=t.originalEvent,i=null;return window.clipboardData&&window.clipboardData.getData?i=window.clipboardData.getData("Text"):r.clipboardData&&r.clipboardData.getData&&(i=r.clipboardData.getData("text/plain")),n.val(i),t.preventDefault(),!1}}).each(function(){var t=e(this).data("numFormat",{c:-(s+1),decimals:s,thousands_sep:u,dec_point:o,regex_dec_num:f,regex_dec:l,init:!1});if(this.value==="")return;t.val(t.val())}):this.each(function(){var t=e(this),n=t.text().match(/^-/)?-1:1,r=+t.text().replace(f,"").replace(l,".")*n;t.number(isFinite(r)?+r:0,s,o,u)}):this.text(e.number.apply(window,arguments))};var i=null,s=null;e.isPlainObject(e.valHooks.text)?(e.isFunction(e.valHooks.text.get)&&(i=e.valHooks.text.get),e.isFunction(e.valHooks.text.set)&&(s=e.valHooks.text.set)):e.valHooks.text={},e.valHooks.text.get=function(t){var n=e(t),r,s=n.data("numFormat");return s?t.value===""?"":(t.value.match(/^-/)&&(s.isNegative=!0),r=+t.value.replace(s.regex_dec_num,"").replace(s.regex_dec,"."),r=isFinite(r)?r:0,r!=0&&s.isNegative&&(r*=-1),""+r):e.isFunction(i)?i(t):undefined},e.valHooks.text.set=function(t,n){var r=e(t),i=r.data("numFormat");return i?n===""?t.value="":t.value=e.number(n,i.decimals,i.dec_point,i.thousands_sep):e.isFunction(s)?s(t,n):undefined},e.number=function(e,t,n,r){r=typeof r=="undefined"?",":r,n=typeof n=="undefined"?".":n,t=isFinite(+t)?Math.abs(t):0;var i="\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4),s="\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4);e=(e+"").replace(".",n).replace(new RegExp(s,"g"),"").replace(new RegExp(i,"g"),".").replace(new RegExp("[^0-9+-Ee.]","g"),"");var o=isFinite(+e)?+e:0,u="",a=function(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n};return u=(t?a(o,t):""+Math.round(o)).split("."),u[0].length>3&&(u[0]=u[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(u[1]||"").length<t&&(u[1]=u[1]||"",u[1]+=(new Array(t-u[1].length+1)).join("0")),u.join(n)}})(jQuery),!function(e){function u(t){var r=t.data("timepicker-settings"),i=t.data("timepicker-list");i&&i.length&&(i.remove(),t.data("timepicker-list",!1)),i=e("<ul />"),i.attr("tabindex",-1),i.addClass("ui-timepicker-list"),r.className&&i.addClass(r.className),i.css({display:"none",position:"absolute"}),r.minTime!==null&&r.showDuration&&i.addClass("ui-timepicker-with-duration");var s=r.durationTime!==null?r.durationTime:r.minTime,o=r.minTime!==null?r.minTime:0,u=r.maxTime!==null?r.maxTime:o+n-1;u<=o&&(u+=n);for(var a=o;a<=u;a+=r.step*60){var f=a%n,c=e("<li />");c.data("time",f),c.text(v(f,r.timeFormat));if(r.minTime!==null&&r.showDuration){var h=e("<span />");h.addClass("ui-timepicker-duration"),h.text(" ("+d(a-s)+")"),c.append(h)}i.append(c)}i.data("timepicker-input",t),t.data("timepicker-list",i),e("body").append(i),l(t,i),i.on("click","li",function(n){t.addClass("ui-timepicker-hideme"),t[0].focus(),i.find("li").removeClass("ui-timepicker-selected"),e(this).addClass("ui-timepicker-selected"),p(t),i.hide()})}function a(){var e=new Date,t=e.getTimezoneOffset()*6e4;e.setHours(0),e.setMinutes(0),e.setSeconds(0);var n=e.getTimezoneOffset()*6e4;return new Date(e.valueOf()-n+t)}function f(t,n,r){if(!r&&r!==0)return!1;var i=t.data("timepicker-settings"),s=!1;return n.find("li").each(function(t,n){var o=e(n);if(Math.abs(o.data("time")-r)<=i.step*30)return s=o,!1}),s}function l(e,t){var n=m(e.val()),r=f(e,t,n);r&&r.addClass("ui-timepicker-selected")}function c(){if(this.value=="")return;var t=e(this),n=m(this.value);if(n===null){t.trigger("timeFormatError");return}var r=v(n,t.data("timepicker-settings").timeFormat);t.val(r)}function h(t){var n=e(this),r=n.data("timepicker-list");if(!r.is(":visible")){if(t.keyCode!=40)return!0;n.focus()}switch(t.keyCode){case 13:return p(n),o.hide.apply(this),t.preventDefault(),!1;case 38:var i=r.find(".ui-timepicker-selected");if(!i.length){var i;r.children().each(function(t,n){if(e(n).position().top>0)return i=e(n),!1}),i.addClass("ui-timepicker-selected")}else i.is(":first-child")||(i.removeClass("ui-timepicker-selected"),i.prev().addClass("ui-timepicker-selected"),i.prev().position().top<i.outerHeight()&&r.scrollTop(r.scrollTop()-i.outerHeight()));break;case 40:var i=r.find(".ui-timepicker-selected");if(i.length==0){var i;r.children().each(function(t,n){if(e(n).position().top>0)return i=e(n),!1}),i.addClass("ui-timepicker-selected")}else i.is(":last-child")||(i.removeClass("ui-timepicker-selected"),i.next().addClass("ui-timepicker-selected"),i.next().position().top+2*i.outerHeight()>r.outerHeight()&&r.scrollTop(r.scrollTop()+i.outerHeight()));break;case 27:r.find("li").removeClass("ui-timepicker-selected"),r.hide();break;case 9:o.hide();break;case 16:case 17:case 18:case 19:case 20:case 33:case 34:case 35:case 36:case 37:case 39:case 45:return;default:r.find("li").removeClass("ui-timepicker-selected");return}}function p(e){var t=e.data("timepicker-settings"),n=e.data("timepicker-list"),r=null,i=n.find(".ui-timepicker-selected");if(i.length)var r=i.data("time");else if(e.val()){var r=m(e.val());l(e,n)}if(r!==null){var s=v(r,t.timeFormat);e.attr("value",s)}e.trigger("change").trigger("changeTime")}function d(e){var t=Math.round(e/60),n;if(t<60)n=[t,i.mins];else if(t==60)n=["1",i.hr];else{var r=(t/60).toFixed(1);i.decimal!="."&&(r=r.replace(".",i.decimal)),n=[r,i.hrs]}return n.join(" ")}function v(e,n){if(e===null)return;var r=new Date(t.valueOf()+e*1e3),i="";for(var s=0;s<n.length;s++){var o=n.charAt(s);switch(o){case"a":i+=r.getHours()>11?"pm":"am";break;case"A":i+=r.getHours()>11?"PM":"AM";break;case"g":var u=r.getHours()%12;i+=u==0?"12":u;break;case"G":i+=r.getHours();break;case"h":var u=r.getHours()%12;u!=0&&u<10&&(u="0"+u),i+=u==0?"12":u;break;case"H":var u=r.getHours();i+=u>9?u:"0"+u;break;case"i":var a=r.getMinutes();i+=a>9?a:"0"+a;break;case"s":var e=r.getSeconds();i+=e>9?e:"0"+e;break;default:i+=o}}return i}function m(e){if(e=="")return null;if(e+0==e)return e;typeof e=="object"&&(e=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds());var t=new Date(0),n=e.toLowerCase().match(/(\d{1,2})(?::(\d{2}))?(?::(\d{2}))?\s*([pa]?)/);if(!n)return null;var r=parseInt(n[1]*1);if(n[4])if(r==12)var i=n[4]=="p"?12:0;else var i=r+(n[4]=="p"?12:0);else var i=r;var s=n[2]*1||0,o=n[3]*1||0;return i*3600+s*60+o}var t=a(),n=86400,r={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:!1,timeFormat:"g:ia",scrollDefaultNow:!1,scrollDefaultTime:!1,selectOnBlur:!1},i={decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},s=!1,o={init:function(t){return this.each(function(){var n=e(this);if(n[0].tagName=="SELECT"){var u=e("<input />"),a={type:"text",value:n.val()},f=n[0].attributes;for(var l=0;l<f.length;l++)a[f[l].nodeName]=f[l].nodeValue;u.attr(a),n.replaceWith(u),n=u}var p=e.extend({},r);t&&(p=e.extend(p,t)),p.minTime&&(p.minTime=m(p.minTime)),p.maxTime&&(p.maxTime=m(p.maxTime)),p.durationTime&&(p.durationTime=m(p.durationTime)),p.lang&&(i=e.extend(i,p.lang)),n.data("timepicker-settings",p),n.attr("autocomplete","off"),n.on("click.timepicker focus.timepicker",o.show),n.on("blur.timepicker",c),n.on("keydown.timepicker",h),n.addClass("ui-timepicker-input"),c.call(n.get(0)),s||(e("body").on("click",function(t){e(t.target).closest(".ui-timepicker-input").length==0&&e(t.target).closest(".ui-timepicker-list").length==0&&o.hide()}),s=!0)})},show:function(t){var n=e(this),r=n.data("timepicker-list");if(n.attr("readonly"))return;if(!r||r.length==0)u(n),r=n.data("timepicker-list");if(n.hasClass("ui-timepicker-hideme")){n.removeClass("ui-timepicker-hideme"),r.hide();return}if(r.is(":visible"))return;o.hide();var i=parseInt(n.css("marginTop").slice(0,-2));i||(i=0),n.offset().top+n.outerHeight(!0)+r.outerHeight()>e(window).height()+e(window).scrollTop()?r.css({left:n.offset().left,top:n.offset().top+i-r.outerHeight()}):r.css({left:n.offset().left,top:n.offset().top+i+n.outerHeight()}),r.show();var s=n.data("timepicker-settings"),a=r.find(".ui-timepicker-selected");a.length||(n.val()?a=f(n,r,m(n.val())):s.minTime===null&&s.scrollDefaultNow?a=f(n,r,m(new Date)):s.scrollDefaultTime!==!1&&(a=f(n,r,m(s.scrollDefaultTime))));if(a&&a.length){var l=r.scrollTop()+a.position().top-a.outerHeight();r.scrollTop(l)}else r.scrollTop(0);n.trigger("showTimepicker")},hide:function(t){e(".ui-timepicker-list:visible").each(function(){var t=e(this),n=t.data("timepicker-input"),r=n.data("timepicker-settings");r&&r.selectOnBlur&&p(n),t.hide(),n.trigger("hideTimepicker")})},option:function(t,n){var r=e(this),i=r.data("timepicker-settings"),s=r.data("timepicker-list");if(typeof t=="object")i=e.extend(i,t);else if(typeof t=="string"&&typeof n!="undefined")i[t]=n;else if(typeof t=="string")return i[t];i.minTime&&(i.minTime=m(i.minTime)),i.maxTime&&(i.maxTime=m(i.maxTime)),i.durationTime&&(i.durationTime=m(i.durationTime)),r.data("timepicker-settings",i),s&&(s.remove(),r.data("timepicker-list",!1))},getSecondsFromMidnight:function(){return m(e(this).val())},getTime:function(){return new Date(t.valueOf()+m(e(this).val())*1e3)},setTime:function(t){var n=e(this),r=v(m(t),n.data("timepicker-settings").timeFormat);n.val(r)},remove:function(){var t=e(this);if(!t.hasClass("ui-timepicker-input"))return;t.removeAttr("autocomplete","off"),t.removeClass("ui-timepicker-input"),t.removeData("timepicker-settings"),t.off(".timepicker"),t.data("timepicker-list")&&t.data("timepicker-list").remove(),t.removeData("timepicker-list")}};e.fn.timepicker=function(t){if(o[t])return o[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return o.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.timepicker")}}(jQuery),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t=[].slice;(function(e,t){return typeof define=="function"&&define.amd?define("waypoints",["jquery"],function(n){return t(n,e)}):t(e.jQuery,e)})(this,function(n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;return i=n(r),c=e.call(r,"ontouchstart")>=0,u={horizontal:{},vertical:{}},a=1,l={},f="waypoints-context-id",d="resize.waypoints",v="scroll.waypoints",m=1,g="waypoints-waypoint-ids",y="waypoint",b="waypoints",s=function(){function e(e){var t=this;this.$element=e,this.element=e[0],this.didResize=!1,this.didScroll=!1,this.id="context"+a++,this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()},this.waypoints={horizontal:{},vertical:{}},e.data(f,this.id),l[this.id]=this,e.bind(v,function(){var e;if(!t.didScroll&&!c)return t.didScroll=!0,e=function(){return t.doScroll(),t.didScroll=!1},r.setTimeout(e,n[b].settings.scrollThrottle)}),e.bind(d,function(){var e;if(!t.didResize)return t.didResize=!0,e=function(){return n[b]("refresh"),t.didResize=!1},r.setTimeout(e,n[b].settings.resizeThrottle)})}return e.prototype.doScroll=function(){var e,t=this;return e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},c&&(!e.vertical.oldScroll||!e.vertical.newScroll)&&n[b]("refresh"),n.each(e,function(e,r){var i,s,o;return o=[],s=r.newScroll>r.oldScroll,i=s?r.forward:r.backward,n.each(t.waypoints[e],function(e,t){var n,i;if(r.oldScroll<(n=t.offset)&&n<=r.newScroll)return o.push(t);if(r.newScroll<(i=t.offset)&&i<=r.oldScroll)return o.push(t)}),o.sort(function(e,t){return e.offset-t.offset}),s||o.reverse(),n.each(o,function(e,t){if(t.options.continuous||e===o.length-1)return t.trigger([i])})}),this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.refresh=function(){var e,t,r,i=this;return r=n.isWindow(this.element),t=this.$element.offset(),this.doScroll(),e={horizontal:{contextOffset:r?0:t.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:t.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(e,function(e,t){return n.each(i.waypoints[e],function(e,r){var i,s,o,u,a;i=r.options.offset,o=r.offset,s=n.isWindow(r.element)?0:r.$element.offset()[t.offsetProp],n.isFunction(i)?i=i.apply(r.element):typeof i=="string"&&(i=parseFloat(i),r.options.offset.indexOf("%")>-1&&(i=Math.ceil(t.contextDimension*i/100))),r.offset=s-t.contextOffset+t.contextScroll-i;if(r.options.onlyOnScroll&&o!=null||!r.enabled)return;if(o!==null&&o<(u=t.oldScroll)&&u<=r.offset)return r.trigger([t.backward]);if(o!==null&&o>(a=t.oldScroll)&&a>=r.offset)return r.trigger([t.forward]);if(o===null&&t.oldScroll>=r.offset)return r.trigger([t.forward])})})},e.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([d,v].join(" ")),delete l[this.id]},e}(),o=function(){function e(e,t,r){var i,s;r=n.extend({},n.fn[y].defaults,r),r.offset==="bottom-in-view"&&(r.offset=function(){var e;return e=n[b]("viewportHeight"),n.isWindow(t.element)||(e=t.$element.height()),e-n(this).outerHeight()}),this.$element=e,this.element=e[0],this.axis=r.horizontal?"horizontal":"vertical",this.callback=r.handler,this.context=t,this.enabled=r.enabled,this.id="waypoints"+m++,this.offset=null,this.options=r,t.waypoints[this.axis][this.id]=this,u[this.axis][this.id]=this,i=(s=e.data(g))!=null?s:[],i.push(this.id),e.data(g,i)}return e.prototype.trigger=function(e){if(!this.enabled)return;this.callback!=null&&this.callback.apply(this.element,e);if(this.options.triggerOnce)return this.destroy()},e.prototype.disable=function(){return this.enabled=!1},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},e.prototype.destroy=function(){return delete u[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},e.getWaypointsByElement=function(e){var t,r;return r=n(e).data(g),r?(t=n.extend({},u.horizontal,u.vertical),n.map(r,function(e){return t[e]})):[]},e}(),p={init:function(e,t){var r;return t==null&&(t={}),(r=t.handler)==null&&(t.handler=e),this.each(function(){var e,r,i,u;return e=n(this),i=(u=t.context)!=null?u:n.fn[y].defaults.context,n.isWindow
(i)||(i=e.closest(i)),i=n(i),r=l[i.data(f)],r||(r=new s(i)),new o(e,r,t)}),n[b]("refresh"),this},disable:function(){return p._invoke(this,"disable")},enable:function(){return p._invoke(this,"enable")},destroy:function(){return p._invoke(this,"destroy")},prev:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t>0)return e.push(n[t-1])})},next:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t<n.length-1)return e.push(n[t+1])})},_traverse:function(e,t,i){var s,o;return e==null&&(e="vertical"),t==null&&(t=r),o=h.aggregate(t),s=[],this.each(function(){var t;return t=n.inArray(this,o[e]),i(s,t,o[e])}),this.pushStack(s)},_invoke:function(e,t){return e.each(function(){var e;return e=o.getWaypointsByElement(this),n.each(e,function(e,n){return n[t](),!0})}),this}},n.fn[y]=function(){var e,r;return r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],p[r]?p[r].apply(this,e):n.isFunction(r)?p.init.apply(this,arguments):n.isPlainObject(r)?p.init.apply(this,[null,r]):r?n.error("The "+r+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")},n.fn[y].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return n.each(l,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return(e=r.innerHeight)!=null?e:i.height()},aggregate:function(e){var t,r,i;return t=u,e&&(t=(i=l[n(e).data(f)])!=null?i.waypoints:void 0),t?(r={horizontal:[],vertical:[]},n.each(r,function(e,i){return n.each(t[e],function(e,t){return i.push(t)}),i.sort(function(e,t){return e.offset-t.offset}),r[e]=n.map(i,function(e){return e.element}),r[e]=n.unique(r[e])}),r):[]},above:function(e){return e==null&&(e=r),h._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){return e==null&&(e=r),h._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){return e==null&&(e=r),h._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){return e==null&&(e=r),h._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(e,t){return p[e]=t},_invoke:function(e){var t;return t=n.extend({},u.vertical,u.horizontal),n.each(t,function(t,n){return n[e](),!0})},_filter:function(e,t,r){var i,s;return i=l[n(e).data(f)],i?(s=[],n.each(i.waypoints[t],function(e,t){if(r(i,t))return s.push(t)}),s.sort(function(e,t){return e.offset-t.offset}),n.map(s,function(e){return e.element})):[]}},n[b]=function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],h[n]?h[n].apply(null,e):h.aggregate.call(null,n)},n[b].settings={resizeThrottle:100,scrollThrottle:30},i.load(function(){return n[b]("refresh")})})}.call(this),function(){var e;e=function(){var e,t;return t=document.createElement("script"),t.src="/assets/zxcvbn-b2fb19880846d5c5fc397623677d31b5.js",t.type="text/javascript",t.async=!0,e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)},null!=window.attachEvent?window.attachEvent("onload",e):window.addEventListener("load",e,!1)}.call(this);var LevelUp=function(e,t){var n=e.calculator=e.calculator||{};return n.calculator=function(){t('input[name*="business-type"]').change(function(){t('input[name*="business-type"]:checked').attr("value")=="truck"?(t('input[value*="26-75"]').attr("disabled","disabled"),t('input[value*="76-250"]').attr("disabled","disabled"),t('input[value*="250+"]').attr("disabled","disabled")):(t('input[value*="26-75"]').removeAttr("disabled"),t('input[value*="76-250"]').removeAttr("disabled"),t('input[value*="250+"]').removeAttr("disabled"))});var e={personas:[{name:"The One & Only Main Street Sandwich Shop",description:"You’re a QSR and a fixture on the local business scene. The biggest burden in your world? Hefty payment processing fees. Did you know that LevelUp can eliminate your payment processing fees, enabling you to reinvest that money into a trackable customer acquisition campaign?",type:"QSR",locations:"1-5",revenue:1e6,interchange:.03,advertising:.06,loyalty:.05,intelligence:3e3,ad_multiplier:4.9,loyalty_multiplier:10.04015444015444},{name:"Boston Sandwich Shop",description:"You’re a local QSR chain with your sights set on rapid expansion. Allow us to introduce you to LevelUp, the perfect compliment to a growing business. LevelUp can help you to attract new customers and retain existing customers all while eliminating your payment processing fees.",type:"QSR",locations:"6-25",revenue:15e6,interchange:.03,advertising:.06,loyalty:.05,intelligence:6e3,ad_multiplier:4.9,loyalty_multiplier:10.04015444015444},{name:"New England Sandwich Shop",description:"You’re a regional QSR chain with a penchant for success. Though we’d love to go into detail about how we could attract and retain customers together, we know it takes the perfect recipe for you collaborate with a partner. Let’s get to the point, LevelUp is the triple threat: 0% payment processing fees, POS integration and highly trackable ROI metrics.",type:"QSR",locations:"26-75",revenue:5e7,interchange:.03,advertising:.06,loyalty:.05,intelligence:12e3,ad_multiplier:4.9,loyalty_multiplier:10.04015444015444},{name:"East Coast Sandwich Shop",description:"You’re a multi-state QSR chain with a penchant for success. Though we’d love to go into detail about how we could attract and retain customers together, we know it takes the perfect recipe for you collaborate with a partner. Let’s get to the point, LevelUp is the triple threat: 0% payment processing fees, POS integration and highly trackable ROI metrics.",type:"QSR",locations:"76-250",revenue:15e7,interchange:.03,advertising:.06,loyalty:.05,intelligence:24e3,ad_multiplier:4.9,loyalty_multiplier:10.04015444015444},{name:"American Sandwich Company",description:"You’re a renowned national QSR chain with a penchant for success. Though we’d love to go into detail about how we could attract and retain customers together, we know it takes the perfect recipe for you collaborate with a partner. Let’s get to the point, LevelUp is the triple threat: 0% payment processing fees, POS integration and highly trackable ROI metrics.",type:"QSR",locations:"250+",revenue:25e7,interchange:.03,advertising:.06,loyalty:.05,intelligence:48e3,ad_multiplier:4.9,loyalty_multiplier:10.04015444015444},{name:"Main Street Bistro",description:"You’re an FSR and a fixture on the local business scene. The biggest burden in your world? Hefty payment processing fees and customer acquisition. Did you know that LevelUp can eliminate your payment processing fees, enabling you to reinvest that money into a trackable customer acquisition campaign?",type:"FSR",locations:"1-5",revenue:25e5,interchange:.03,advertising:.06,loyalty:.05,intelligence:3e3,ad_multiplier:7.4,loyalty_multiplier:6.16},{name:"Boston Bistro",description:"You’re an FSR and a fixture on the regional business scene. You’ve got your sights set on expansion and LevelUp can help! LevelUp eliminates payment processing fees, enabling you to reinvest that money into trackable customer acquisition and retention campaigns!",type:"FSR",locations:"6-25",revenue:165e5,interchange:.03,advertising:.06,loyalty:.05,intelligence:6e3,ad_multiplier:7.4,loyalty_multiplier:6.16},{name:"New England Bistro Co.",description:"You’re an FSR and a fixture on the regional business scene.  You’ve got your sights set on expansion and LevelUp can help! LevelUp eliminates payment processing fees, enabling you to reinvest that money into trackable customer acquisition and retention campaigns!",type:"FSR",locations:"26-75",revenue:55e6,interchange:.03,advertising:.06,loyalty:.05,intelligence:12e3,ad_multiplier:7.4,loyalty_multiplier:6.16},{name:"East Coast Bistro Co.",description:"You’re a multi-state FSR chain. Though we’d love to go into detail about how we could attract and retain customers together, we know it takes the perfect recipe for you collaborate with a partner. So, let’s get to the point, LevelUp is the triple threat: 0% payment processing fees, POS integration and highly trackable ROI metrics.",type:"FSR",locations:"76-250",revenue:165e6,interchange:.03,advertising:.06,loyalty:.05,intelligence:24e3,ad_multiplier:7.4,loyalty_multiplier:6.16},{name:"Bistro, an American Restaurant Group",description:"You’re a renowned, national FSR. Though we’d love to go into detail about how we could attract and retain customers together, we know it takes the perfect recipe for you collaborate with a partner. So, let’s get to the point, LevelUp is the triple threat: 0% payment processing fees, POS integration and highly trackable ROI metrics.",type:"FSR",locations:"250+",revenue:275e6,interchange:.03,advertising:.06,loyalty:.05,intelligence:48e3,ad_multiplier:7.4,loyalty_multiplier:6.16},{name:"Rogue Taco Truck",description:"You’re a cart or a food truck with a fierce following. Have you ever thought about the success you’d see if you were able to accept credit cards? LevelUp enables 2 and 4-wheelin’ businesses like you to accept credit cards without paying credit card processing fees.",type:"truck",locations:"1-5",revenue:2e5,interchange:.03,advertising:.03,loyalty:.05,intelligence:1e3,ad_multiplier:6.22235202492212,loyalty_multiplier:14.4},{name:"Herd O' Tacos",description:"You’re a cart or a food truck with a fierce following. Have you ever thought about the success you’d see if you were able to accept credit cards? LevelUp enables 2 and 4-wheelin’ businesses like you to accept credit cards without paying credit card processing fees.",type:"truck",locations:"6-25",revenue:4e5,interchange:.03,advertising:.03,loyalty:.05,intelligence:2e3,ad_multiplier:6.22235202492212,loyalty_multiplier:14.4},{name:"Main Street Cafeteria",description:"You’re a local food service provider and a fixture on the breakfast and lunch break scene. The biggest burden in your world? Hefty payment processing fees. Did you know that LevelUp can eliminate your payment processing fees, enabling you to reinvest that money into a trackable customer acquisition campaign?",type:"cafeteria",locations:"1-5",revenue:12e5,interchange:.0325,advertising:.03,loyalty:.05,intelligence:3e3,ad_multiplier:2.20990983738528,loyalty_multiplier:9.0211082928507},{name:"Boston Cafeteria Group",description:"You’re a local food service provider chain. Your sights are set on rapid expansion. Allow us to introduce you to LevelUp, the perfect compliment to a growing business. LevelUp can help you to attract new customers and retain existing customers all while eliminating your payment processing fees.",type:"cafeteria",locations:"6-25",revenue:18e6,interchange:.0325,advertising:.03,loyalty:.05,intelligence:6e3,ad_multiplier:2.20990983738528,loyalty_multiplier:9.0211082928507},{name:"New England Cafeteria Group",description:"You’re a regional food service provider chain. Your sights are set on rapid expansion. Allow us to introduce you to LevelUp, the perfect compliment to a growing business. LevelUp can help you to attract new customers and retain existing customers all while eliminating your payment processing fees.",type:"cafeteria",locations:"26-75",revenue:6e7,interchange:.0325,advertising:.03,loyalty:.05,intelligence:12e3,ad_multiplier:2.20990983738528,loyalty_multiplier:9.0211082928507},{name:"East Coast Cafeteria Group",description:"You’re a multi-state food service provider with a penchant for success. Though we’d love to go into detail about how we could attract and retain customers together, we know it takes the perfect recipe for you collaborate with a partner. Let’s get to the point, LevelUp is the triple threat: 0% payment processing fees, POS integration and highly trackable ROI metrics.",type:"cafeteria",locations:"76-250",revenue:18e7,interchange:.0325,advertising:.03,loyalty:.05,intelligence:24e3,ad_multiplier:2.20990983738528,loyalty_multiplier:9.0211082928507},{name:"American Cafeteria Group",description:"You’re a national food service provider with a penchant for success. Though we’d love to go into detail about how we could attract and retain customers together, we know it takes the perfect recipe for you collaborate with a partner. Let’s get to the point, LevelUp is the triple threat: 0% payment processing fees, POS integration and highly trackable ROI metrics.",type:"cafeteria",locations:"250+",revenue:3e8,interchange:.0325,advertising:.03,loyalty:.05,intelligence:48e3,ad_multiplier:2.20990983738528,loyalty_multiplier:9.0211082928507}]},n;t(".step-one form").submit(function(){var r=t("input[name=business-type]:checked").val(),i=t("input[name=locations]:checked").val();return jQuery.each(e.personas,function(e,t){r==t.type&&i==t.locations&&(n=t)}),t(".persona-name").html(n.name),t(".persona-description").html(n.description),t("#revenue").val(accounting.formatMoney(n.revenue)),t("#interchange").val(accounting.toFixed(n.interchange*100,2)),t("#advertising").val(accounting.toFixed(n.advertising*100,2)),t("#loyalty").val(accounting.toFixed(n.loyalty*100,2)),t("#intelligence").val(accounting.formatMoney(n.intelligence)),t("#ad_multiplier").val(n.ad_multiplier),t("#loyalty_multiplier").val(n.loyalty_multiplier),t(".calc-inner").animate({left:"-=900px"},300),!1}),t(".step-two form").submit(function(){return n.revenue=accounting.unformat(t("#revenue").val()),n.interchange=accounting.toFixed(t("#interchange").val()/100,4),n.advertising=accounting.toFixed(t("#advertising").val()/100,2),n.loyalty=accounting.toFixed(t("#loyalty").val()/100,2),n.intelligence=accounting.unformat(t("#intelligence").val()),delete n.name,delete n.description,delete n.type,delete n.locations,window.location.href="impact.html?"+t.param(n),!1}),t(".back-button").click(function(){t(".calc-inner").animate({left:"+=900px"},300)})},n.impact=function(){function r(e){t(".editable").unbind(),t(".editable").each(function(e,n){t(n).tipsy("hide")}),oldNumber=t(e).html(),t(e).html('<input type="text" autofocus="autofocus" value="'+oldNumber+'">'),t(".editable input").bind("blur",function(){i(this)}),t(".editable input").bind("keydown",function(e){e.which==13&&i(this)})}function i(e){t(".editable input").unbind(),newNumber=accounting.unformat(t(e).val()),p(t(e).parent().data("i"),newNumber),t(".editable").tipsy({fade:!0,gravity:"s",opacity:.85}),t(".editable").bind("click",function(){r(this)})}function s(e,t){this.name="interchange",this.conv_without=e*t,this.conv_with=this.conv_without*.85,this.lvl_without=0,this.lvl_with=0,m(this)}function o(e,t){this.name="ad-spend",this.conv_without=e*t,this.conv_with=this.conv_without*.85,this.lvl_without=0,this.lvl_with=this.conv_without*.15,m(this)}function u(e,t){this.name="ad-revenue",this.conv_without=e.conv_without*(1+(t-1)*.4),this.conv_with=this.conv_without*.85,this.lvl_without=0,this.lvl_with=e.lvl_with*t,m(this)}function a(e,t){this.name="loyalty-spend",this.conv_without=e*t,this.conv_with=this.conv_without*.85,this.lvl_without=0,this.lvl_with=this.conv_without*.15,m(this)}function f(e,t){this.name="loyalty-revenue",this.conv_without=e.conv_without*t,e.conv_without==0?this.conv_with=0:this.conv_with=this.conv_without/e.conv_without*e.conv_with,this.lvl_without=0,this.lvl_with=e.lvl_with*(t/.8),m(this)}function l(e){this.name="business-intelligence",this.conv_without=e,this.conv_with=0,this.lvl_without=0,this.lvl_with=0,m(this)}function c(e,t){e.conv_without=t,e.conv_with=e.conv_without*.85,e.lvl_without=0,e.lvl_with=0,m(e),g(e),v()}function h(e,t){e.conv_without=t,e.conv_with=e.conv_without*.85,e.lvl_without=0,e.lvl_with=e.conv_without*.15,m(e),g(e),v()}function p(e,t){e.conv_without=t,e.conv_with=e.conv_without*.85,m(e),g(e),v()}function d(e,t){e.conv_without=t,e.conv_with=0,e.lvl_without=0,e.lvl_with=0,m(e),g(e),v()}function v(){var e=0;e+=Math.abs(n[s].benefit),e+=n[u].benefit,e+=n[f].benefit,e+=Math.abs(n[l].benefit),t(".grand-total").html(accounting.formatMoney(e))}function m(e){e.total_without=e.conv_without+e.lvl_without,e.total_with=e.conv_with+e.lvl_with,e.benefit=e.total_with-e.total_without}function g(e){t("."+e.name+" .conventional .without").html(accounting.formatMoney(e.conv_without)),t("."+e.name+" .conventional .without").data("i",e),t("."+e.name+" .conventional .with").html(accounting.formatMoney(e.conv_with)),t("."+e.name+" .levelup .without").html(accounting.formatMoney(e.lvl_without)),t("."+e.name+" .levelup .with").html(accounting.formatMoney(e.lvl_with)),t("."+e.name+" .total .without").html(accounting.formatMoney(e.total_without)),t("."+e.name+" .total .with").html(accounting.formatMoney(e.total_with)),t("."+e.name+" .total .benefit .value").html(accounting.formatMoney(e.benefit))}t(".inner-progress").animate({width:"500px"},5e3,function(){t(".calculating").fadeOut("fast",function(){t(".tables").fadeIn("slow")})}),t(".title").tipsy({gravity:"s",opacity:.85}),t(".editable").tipsy({gravity:"s",opacity:.85});var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,n,r){e[n]=r});var n={};n[s]=new s(e.revenue,e.interchange),n[o]=new o(e.revenue,e.advertising),n[u]=new u(n[o],e.ad_multiplier),n[a]=new a(e.revenue,e.loyalty),n[f]=new f(n[a],e.loyalty_multiplier),n[l]=new l(Number(e.intelligence)),g(n[s]),g(n[o]),g(n[u]),g(n[a]),g(n[f]),g(n[l]),v(),t(".editable").bind("click",function(){r(this)})},e}(LevelUp||{},jQuery),LevelUp=function(e,t){var n=e.claims=e.claims||{},r="/assets/shared/marker_default-e3408cbb20d3cbf3e5de861b7ee08994.png",i="/assets/shared/marker_hover-b37041e47c90cdd1df67eb0541e76a20.png",s,o,u,a,f,l,c,h;n.mobile=function(){/mobile/i.test(navigator.userAgent)&&document.documentElement.scrollTop===0&&!pageYOffset&&!location.hash&&setTimeout(function(){window.scrollTo(0,1)},1e3),window.addEventListener("orientationchange",function(){var e=t(".campaign-wrap").width();t("#sidebar_mobile").width(e-30),t(".button-left").width(e-95)},!1),t(window).resize(function(){var e=t(".campaign-wrap").width();t("#sidebar_mobile").width(e-30),t(".button-left").width(e-95)});var e=t(".campaign-wrap").width();t("#sidebar_mobile").width(e-30),t(".button-left").width(e-95)},n.show=function(){t("input, textarea").placeholder(),t(window).load(function(){t(".gateway").animate({opacity:1},{duration:300}),t("#download_overlay").delay(600).fadeIn(300),t("#download").centerVertically(),t("#text_success").height(t("#download").outerHeight()),t("#text_success").centerVertically(),t("#text_success h4").centerVertically(),t("#download").delay(600).fadeIn(300).queue(function(e){t("#app_download_text_phone").focus(),e()})}),t("#video_modal.campaign-modal").centerHorizontally(),t("#video_link").click(function(){t(".campaign #overlay").fadeIn(300),t("#video_modal").fadeIn(300),t("#video_modal .modal-content").delay(400).slideDown(300).queue(function(e){t("#levelup-video")[0].play(),e()})}),t(".campaign .modal-close").click(function(){t(".modal-content").slideUp(300),t(".campaign-modal").delay(400).fadeOut(300),t(".campaign #overlay").delay(400).fadeOut(300),t("#levelup-video")[0].pause()}),t(".facebook_share").click(function(){FB.getAuthResponse()===null?FB.login(function(e){},{scope:t(".facebook_share").data("fbScope")}):t("#fb-login-form").submit()}),t("#fb-login-form").submit(function(e){e.preventDefault();var n=t("#fb-login-form").attr("action"),r=t(".facebook_share");t.post(n),FB.ui({caption:r.data("fbCaption"),link:r.data("fbLink"),method:"feed",name:r.data("fbName"),picture:r.data("fbPicture")})}),t("#app-download-text").bind("ajax:success",function(){t("#text_success").fadeIn(300).delay(1200).fadeOut(300),t("#download").fadeOut(300),t("#download_overlay").delay(1500).fadeOut(300)}).bind("ajax:error",function(){t("input#app_download_text_phone").addClass("error")})},t.fn.centerHorizontally=function(){var e=t(this),n=e.outerWidth(),r=e.parent().outerWidth(),i=(r-n)/2;e.css("margin-left",i)},t.fn.centerVertically=function(){var e=t(this),n=e.parent(),r=(n.outerHeight()-e.outerHeight())/2;e.css("margin-top",r)},n.map=function(){s={},o=t(".location"),u=m("#map_canvas",{}),a=new google.maps.MarkerImage(r),f=new google.maps.MarkerImage(i),l=new google.maps.MarkerImage(i),c={},h={};var e=new google.maps.LatLngBounds;o.each(function(n,i){i=t(i);var o=g({content:i.html()}),l=new google.maps.LatLng(i.data("lat"),i.data("lng")),h=new google.maps.Marker({icon:r,map:u,position:l}),p=t("."+i.attr("id"));s[i.attr("id")]=o,c[i.attr("id")]=h,e.extend(l),google.maps.event.addListener(o,"closeclick",function(){v(),d(),u.fitBounds(e),u.getZoom()>14&&u.setZoom(14)}),p.hover(function(){y(h,f)},function(){y(h,a)}),p.click(function(){b(p,{targetLocationId:null}),u.panTo(h.position),u.setZoom(14)}),google.maps.event.addListener(h,"mouseover",function(){p.removeClass("mouseout"),y(h,f)}),google.maps.event.addListener(h,"mouseout",function(){p.removeClass("mouseover"),y(h,a)}),google.maps.event.addListener(h,"click",function(){b(p,{targetLocationId:i.attr("id")}),u.panTo(h.position),u.setZoom(14)})}),google.maps.event.addListener(u,"zoom_changed",function(){zoomChangeBoundsListener=google.maps.event.addListener(u,"bounds_changed",function(e){this.getZoom()>14&&this.initialZoom==1&&(this.setZoom(14),this.initialZoom=!1),google.maps.event.removeListener(zoomChangeBoundsListener)})}),u.initialZoom=!0,u.fitBounds(e),google.maps.event.addListener(u,"click",function(){t.each(s,function(e,t){t.close()}),v(),d(),u.fitBounds(e),u.getZoom()>14&&u.setZoom(14)})};var p=function(e,n){var r=!1;return t.each(n,function(t,n){e.contains(n)&&(r=!0)}),r},d=function(){t.each(h,function(e,t){s[e].close(),t.setIcon(a),delete h[e]})},v=function(){t(".location-item.selected").removeClass("selected")},m=function(e,n){var r={mapTypeId:google.maps.MapTypeId.ROADMAP,zoomControlOptions:{style:"small"}};delete n.lat,delete n.lat;var i=jQuery.extend(!0,{},r,n);return new google.maps.Map(t(e)[0],i)},g=function(e){var t={alignBottom:!0,boxStyle:{background:"url(/assets/shared/infobox.png) no-repeat",height:"83px",padding:"15px 15px 0 15px",width:"271px"},closeBoxMargin:"0 30px 0 0",closeBoxURL:"/assets/shared/infobox-close.png",disableAutoPan:!0,infoBoxClearance:new google.maps.Size(30,30),pixelOffset:new google.maps.Size(-136,-40)},n=jQuery.extend(!0,{},t,e);return new InfoBox(n)},y=function(e,t){l!==e.getIcon()&&e.setIcon(t)},b=function(e,n){var r=[],i=new google.maps.LatLngBounds,o=e.data("location_id"),a=n.targetLocationId===null;v(),d(),t.each(s,function(s,a){var f=t("#"+s);if(f.attr("id")===o){var p=new google.maps.LatLng(f.data("lat"),f.data("lng")),d=c[s],v=s===n.targetLocationId;e.addClass("selected"),d.setIcon(l),h[s]=d,a.open(u,d),r.push(p),i.extend(p)}}),a&&(p(u.getBounds(),r)||u.panTo(i.getCenter()),p(u.getBounds(),r)||u.fitBounds(i))};return e}(LevelUp||{},jQuery),LevelUp=function(e,t){var n=e.cohorts=e.cohorts||{};return n.mobile=function(){/mobile/i.test(navigator.userAgent)&&document.documentElement.scrollTop===0&&!pageYOffset&&!location.hash&&setTimeout(function(){window.scrollTo(0,1)},1e3),window.addEventListener("orientationchange",function(){var e=t(".campaign-wrap").width(),n=t(window).outerHeight();t("#sidebar_mobile").width(e-30),t(".button-left").width(e-95)},!1),t(window).resize(function(){var e=t(".campaign-wrap").width(),n=t(window).outerHeight();t("#sidebar_mobile").width(e-30),t(".button-left").width(e-95)});var e=t(".campaign-wrap").width(),n=t(window).outerHeight();t("#sidebar_mobile").width(e-30),t(".button-left").width(e-95),t(".js-mobile-form-button").click(function(){t("#main_content").hide(),t("#form_cancel").fadeIn(),t("body,html").animate({scrollTop:0},0),t("p.inline-errors").length?t("body.campaign").css("height","auto"):t("body.campaign").height(n)}),t(".js-email-claim").click(function(){t("#email_form_mobile").fadeIn()}),t("#join_claim").click(function(){t("#register_form_mobile").fadeIn()}),t("#form_cancel").click(function(){t("#email_form_mobile").hide(),t("#register_form_mobile").hide(),t("#form_cancel").hide(),t("#main_content").fadeIn(),t("body,html").animate({scrollTop:0},0),t("body.campaign").css("height","auto")})},n.show=function(){t("input, textarea").placeholder(),t("#video_modal.campaign-modal").centerHorizontally(),t("#register_modal.campaign-modal").centerHorizontally(),t("#login_modal.campaign-modal").centerHorizontally();if(t(".error.flash").length&&t("#single_speech_bubble").is(":visible"))t(".error.flash").centerHorizontally();else{var e=t("#header_wrapper").outerHeight(),n=t(".error.flash").outerHeight();t(".gateway").css("margin-top",e+n+20)}t("#register_link").clickToOpenModal(t("#register_modal")),t("#login_link").clickToOpenModal(t("#login_modal")),t("#video_link").click(function(){t(".campaign #overlay").fadeIn(300),t("#video_modal").fadeIn(300),t("#video_modal .modal-content").delay(400).slideDown(300).queue(function(e){t("#levelup-video")[0].play(),e()})}),t(".campaign .modal-close").click(function(){t(".modal-content").slideUp(300),t(".campaign-modal").delay(400).fadeOut(300),t(".campaign #overlay").delay(400).fadeOut(300),t("#levelup-video")[0].pause()}),t(".campaign #flash_close").click(function(){t(".campaign #flash_close").fadeOut(300),t(".campaign .error.flash").fadeOut(300),t(".campaign #overlay").delay(400).fadeOut(300)}),t("p.inline-errors").length&&t("#speech_bubble_mobile").is(":visible")?(t("#join_claim").click(),t(".gateway").css("opacity","1.0")):t("p.inline-errors").length?(t("#register_link").click(),t(".gateway").css("opacity","1.0")):t("#email_error").length&&t("#speech_bubble_mobile").is(":visible")?t(".gateway").css("opacity","1.0"):t(".error.flash").length&&t("#speech_bubble_mobile").is(":visible")?(t("#login_link_mobile").hide(),t("#or_mobile").hide(),t(".gateway").css("opacity","1.0")):t("#email_error").length&&t("#single_speech_bubble").is(":visible")?(t(".gateway").css("opacity","1.0"),t(".campaign #overlay").fadeIn(300),t(".campaign #flash_close").delay(400).fadeIn(300),t(".campaign .error.flash").delay(400).fadeIn(300)):t(".error.flash").length&&t("#single_speech_bubble").is(":visible")?(t(".gateway").css("opacity","1.0"),t(".campaign #overlay").fadeIn(300),t(".campaign #flash_close").delay(400).fadeIn(300),t(".campaign .error.flash").delay(400).fadeIn(300),t(".campaign #login_link").delay(400).slideToggle(),t(".campaign #or").delay(400).fadeOut(300)):t(window).load(function(){t(".gateway").animate({opacity:1},{duration:300})}),t("#existing_user").submit(function(){t("input[type=submit]",this).attr("disabled","disabled")})},t.fn.centerHorizontally=function(){var e=t(this),n=e.outerWidth(),r=e.parent().outerWidth(),i=(r-n)/2;e.css("margin-left",i)},t.fn.clickToOpenModal=function(e){t(this).click(function(){t(".campaign #overlay").fadeIn(300),e.fadeIn(300),e.children(".modal-content").delay(400).slideDown(300)})},e}(LevelUp||{},jQuery),LevelUp=function(e,t){var n=e.email_management=e.email_management||{};return n.init=function(){t(".error")[0]&&t(".js-email-management-icon").css("background-position","center 67px")},e}(LevelUp||{},jQuery),LevelUp=function(e,t){var n=e.facebook_connect=e.facebook_connect||{};return n.setupFacebookConnect=function(){t("#fb-login-button").click(function(){FB.login(function(e){},{scope:t("#fb-login-button").data("fbScope")})})},e}(LevelUp||{},jQuery),LevelUp=function(e,t){var n=e.facebook_share=e.facebook_share||{};return n.init=function(){t("#share-fb").click(function(){FB.getAuthResponse()==null?FB.login(function(e){},{scope:t("#share-fb").data("fbScope")}):t("#fb-login-form").submit()}),t("#fb-login-form").submit(function(){return t.post(t(this).attr("action"),function(e){}),link=t("#share-fb"),FB.ui({description:link.data("fbDescription"),link:link.data("fbLink"),method:"feed",name:link.data("fbName"),picture:link.data("fbPicture")}),!1})},e}(LevelUp||{},jQuery),LevelUp=function(e,t){var n=e.locations=e.locations||{},r=e.maps=e.maps||{};return n.index=function(){t(".graph form").submit(),r.initializeMap({disableDoubleClickZoom:!0,draggable:!1,keyboardShortcuts:!1,maxZoom:15,zoomControl:!1}),r.addPlaceMarkersForEach(".location")},e}(LevelUp||{},jQuery),LevelUp=function(e,t){var n=e.main_nav=e.main_nav||{};return n.init=function(){var e=t(".js-main-nav-item-list"),n=t(".js-main-nav-menu-button");n.click(function(){t(this).toggleClass("is-active"),e.fadeToggle()})},e}(LevelUp||{},jQuery),LevelUp=function(e,t){function i(){var e=t(".left-column").height(),n=t("#map_canvas").height(),r=e-n;t(".locations").height(r)}var n=e.merchants=e.merchants||{};n.show=function(){var e=t("#description"),n=e.text().substring(0,300),s=e.text().substring(300),o=t("#read-more").html();e.html(n+o).show(),i(),t("#read-more-toggle").click(function(){t("#read-more-wrap").hide(),e.append(s),i()}),r(),t("#feature-help-tip").tipsy({delayOut:3500,fade:!0,html:!0,gravity:"s",offset:"7",opacity:.92}),t(".merchant-more-locations a").modal({title:"All Locations",width:385})};var r=function(){var e=new google.maps.LatLngBounds,n=[{elementType:"labels",stylers:[{gamma:1.37},{saturation:-50},{lightness:9}]},{elementType:"geometry",stylers:[{saturation:-15},{lightness:16}]},{featureType:"water",elementType:"geometry",stylers:[{lightness:17},{saturation:-15},{hue:"#00ddff"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{hue:"#00ff00"},{saturation:-17},{lightness:37},{visibility:"simplified"}]},{featureType:"poi",stylers:[{visibility:"simplified"},{saturation:20},{lightness:17}]},{featureType:"landscape.man_made",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"},{lightness:60},{saturation:75}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{saturation:75},{lightness:60},{gamma:.65}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.school",stylers:[{lightness:25},{saturation:-26}]},{featureType:"road.local",elementType:"geometry",stylers:[{lightness:35},{saturation:-60},{gamma:.4}]}],r=new google.maps.Map(t("#map_canvas")[0],{center:new google.maps.LatLng(0,0),mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,styles:n}),i=new google.maps.MarkerImage("/assets/users/merchants/map_marker.png"),s=14;t(".location").each(function(n,s){var o=new google.maps.LatLng(t(s).data("lat"),t(s).data("lng"));new google.maps.Marker({map:r,position:o,icon:i}),e.extend(o)}),google.maps.event.addListenerOnce(r,"zoom_changed",function(){this.getZoom()>s&&this.setZoom(s)}),r.fitBounds(e)};return e}(LevelUp||{},jQuery),LevelUp=function(e,t){function r(){t(window).scrollTop(t(window).scrollTop()+1),t(window).scrollTop(t(window).scrollTop()+1)}function i(e){var t=e.length,n,r;while(0!==t)r=Math.floor(Math.random()*t),t-=1,n=e[t],e[t]=e[r],e[r]=n;return e}function s(){var e=t(".js-section-below-sticky-slider"),n=e.offset().top,r=t(".js-sticky-slider"),i=r.offset().top,s=t(".js-sticky-slider-tabs"),o=s.height(),u=s.offset().top,a=t(".js-sticky-slider-wrapper");a.height(o),t(window).scroll(function(){var e=r.outerHeight(!0),i=n-t(window).scrollTop();i<e?(r.removeClass("sticky-slider-fixed-top"),r.addClass("sticky-slider-fixed-bottom")):t(window).scrollTop()>u?(r.removeClass("sticky-slider-fixed-bottom"),r.addClass("sticky-slider-fixed-top")):(r.removeClass("sticky-slider-fixed-bottom"),r.removeClass("sticky-slider-fixed-top"))})}function o(){var e=!u(),t=!a();if(e||t)return!1}function u(){var e=!0;return t(".js-required-input").each(function(){t(this).val().length==0?(t(this).addClass("form-error js-form-error"),e=!1):t(this).removeClass("form-error js-form-error")}),e}function a(){var e=!0;return t(".js-required-select").each(function(){var n=t(this).children("option:selected"),r=t(this).next().children(".chzn-single");n.val()==""?(r.addClass("form-error"),e=!1):r.removeClass("form-error")}),e}var n=e.pages=e.pages||{};return n.business=function(){function u(e){var n=e,r=e.data("anchor"),i="#"+r;c(n),t(window).unbind(".scrollNav"),t("body,html").animate({scrollTop:Math.ceil(t(i).offset().top)},500,function(){f()})}function a(){t(window).scrollTop(t(window).scrollTop()+1),t(window).scrollTop(t(window).scrollTop()-1)}function f(){t(window).bind("scroll.scrollNav",function(){l()})}function l(){e.each(function(){var e=t(this),n=e.attr("id"),r=t('[data-anchor="'+n+'"]'),i=e.offset().top,s=i+e.outerHeight(),o=t(window).scrollTop(),u=o>=i,a=o<s,f=a&&u;f&&c(r)})}function c(e){n.removeClass("is-active"),e.addClass("is-active")}var e=t(".js-anchor"),n=t(".js-sub-nav-link"),r=t(".js-sub-nav"),i=t(".js-accordion-button"),s=t(".js-accordion-content"),o=t(".js-accordion-header");a(),f(),n.click(function(){u(t(this))}),i.click(function(){var n=t(this).closest(e),r=n.find(s),i=n.find(o);s.hide(),o.show(),t(window).scrollTop
(n.offset().top-49),i.fadeOut(function(){r.fadeIn()})}),t(window).scroll(function(){var n=t(window).scrollTop(),i=e.first().offset().top;n>=i?r.fadeIn():r.fadeOut()})},n.businessForm=function(){function u(){var e=t(".js-inbound-source option:selected"),s=e.data("more");e.data("more")&&(i.text(s),r.addClass("js-required-input"),c(),n.fadeIn())}function a(){n.hide(),r.val(""),r.removeClass()}function f(){var e=t(".js-record-type"),n=e.data("enterprise"),r=e.data("levelup"),i=t(".js-white-label-interest option:selected").val();i=="enterprise"?e.val(n):e.val(r)}function l(){r.val()&&n.show()}function c(){t(".js-form-error")[0]&&o()}var e=t(".js-inbound-source"),n=t(".js-more-info"),r=t(".js-more-info input"),i=t(".js-more-info label"),s=t(".js-white-label-interest");u(),f(),l(),e.change(a),e.change(u),s.change(f)},n.clients=function(){var e=t.makeArray(t(".js-partner-logo").not(".js-partner-logo--case-study")),n=i(e),r=t.makeArray(t(".js-partner-logo--case-study")),s=i(r);t(".js-partners-container--basic").html(n),t(".js-partners-container--case-study").html(s),t(".js-partner-logo--case-study").slice(2).remove(),t(".js-partner-logo").slice(4).remove(),t(window).load(function(){t(".js-fade-in").toggleClass("opacity-0 opacity-1")})},n.developer=function(){function e(e,n){t(".js-"+e+"-slide li img").removeClass("is-active"),t(".js-"+e+'-slide li img[data-index="'+n+'"]').addClass("is-active")}function n(e,n){t(".js-"+e+"-pager .pager__bullet").removeClass("is-active"),t(".js-"+e+'-pager .pager__bullet[data-index="'+n+'"]').addClass("is-active")}t(".js-developer-app-payments-pager .pager__bullet").click(function(){var r=t(this).attr("data-index");e("developer-app-payments",r),n("developer-app-payments",r)}),t(".js-developer-rewards-pager .pager__bullet").click(function(){t(".developer-rewards__pop-up").removeClass("is-active");var r=t(this).attr("data-index");e("developer-rewards",r),n("developer-rewards",r),r=="2"&&t(".developer-rewards__pop-up").addClass("is-active")}),t(".js-developer-custom-pager .pager__bullet").click(function(){var r=t(this).attr("data-index");e("developer-custom",r),n("developer-custom",r)})},n.getStarted=function(){t(".js-get-started").click(function(){t("body,html").animate({scrollTop:t(".js-get-started-anchor").offset().top},500)})},n.interchange_zero=function(){function g(e){return'<p class="text-tooltip">'+e+"</p>"}function y(){var t=new google.visualization.DataTable;t.addColumn("date","Date"),t.addColumn({type:"string",role:"tooltip",p:{html:!0}}),t.addColumn("number","LevelUp Fee"),t.addColumn("number","Experienced Cost"),t.addRows([[new Date(2013,0,1),g(e),2,5.2],[new Date(2013,1,1),g(n),2,5.05],[new Date(2013,2,1),g(r),2,4.2],[new Date(2013,3,1),g(i),2,3.5],[new Date(2013,4,1),g(s),2,3.7],[new Date(2013,5,1),g(o),2,3.8],[new Date(2013,6,1),g(u),2,3.8],[new Date(2013,7,1),g(a),2,3.3],[new Date(2013,8,1),g(f),2,3.85],[new Date(2013,9,1),g(l),2,3.2],[new Date(2013,10,1),g(c),2,3.05],[new Date(2013,11,1),g(h),2,3],[new Date(2014,0,1),g(p),2,2.5],[new Date(2014,1,1),g(d),2,2.55],[new Date(2014,2,1),g(v),2,2.1],[new Date(2014,3,1),g(m),1.9,1.9]]);var y={backgroundColor:"#222",colors:["#0691fd","#71cb3a"],focusTarget:"category",fontName:"Source Sans Pro",hAxis:{baselineColor:"#fff",format:"MMM yy",gridlines:{count:16,color:"transparent"},textStyle:{color:"#fff"}},height:700,legend:{position:"bottom",textStyle:{color:"#fff"}},lineWidth:3,pointSize:5,tooltip:{isHtml:!0},vAxis:{baselineColor:"#fff",gridlines:{count:8,color:"#555"},textStyle:{color:"#fff"},title:"Interchange Rate (%)",titleTextStyle:{color:"#fff"}}},b=new google.visualization.LineChart(document.getElementById("path-to-interchange-zero-chart"));b.draw(t,y)}t(".js-accordion").accordion({collapsible:!0,heightStyle:"content"}),t(window).resize(function(){y()});var e="LevelUp standardizes on its current pricing model. <strong>2% payment processing fee</strong> and a 25% fee on any rewards that businesses chose to deliver through LevelUp's campaign engine.",n="LevelUp introduces <strong>&quot;bundling&quot;</strong>, a new approach to processing payments that involves grouping customer's transactions together. While LevelUp still paid businesses next day, customers were only charged every 8 days or so. It’s similar to the way Apple &quot;bundles&quot; purchases together so they don't have to pay a $0.30 cent transaction fee for each $0.99 cent song purchase.",r="<strong>Bundling rolls out to all LevelUp customers</strong> providing material savings in payment processing fees. While LevelUp is still losing money on processing payments, the amount lost each month steadily decreases.",i="The area between these two curves is essentially the interchange cost that LevelUp subsidized on the journey to getting below 2%. It was a long road!",s="LevelUp introduces the <strong>&quot;no-chargeback guarantee.&quot;</strong> Visa and Mastercard reserve the right to claw back payments from businesses up to 90 days later if a customer disputes and charge the merchants a $50-$100 fee to investigate. With LevelUp's instant digital receipts and state-of-the-art security infrastructure, fraudulent charges on LevelUp dropped so low that 90% of chargebacks are simply misunderstandings easily resolved with a quick customer support email. To pass on these savings to the businesses, LevelUp agrees to protect businesses from any chargeback fees on LevelUp payments.",o="The average active customer is paying with LevelUp 8 times a month and saving over $150 per year in rewards from their favorite businesses.",u="Chugging along.",a="LevelUp begins work on <strong>monthly billing</strong>, a simpler &quot;bundling&quot; approach that simply bills trusted customers once a month for all their transactions at local businesses.",f="A <strong>large influx of new customers</strong> actually increases LevelUp's interchange rate temporarily because LevelUp's algorithms have to learn how to most effectively bundle those customer's transactions.",l="<strong>LevelUp develops more effective algorithms</strong> to bundle users' transactions.",c="LevelUp rolls out <strong>&quotCity Pass,&quot;</strong> a special set of monthly rewards for customers who link debit cards, instead of credit cards. Debit cards are much less expensive for LevelUp to process than credit cards, so businesses are willing to fund additional rewards for these customers.",h="<strong>Monthly billing rolls out to the first customers.</strong> Reaction is very positive.",p="Monthly billing proves its effectiveness as <strong>interchange continues to drop.</strong>",d="Chugging along.",v="With <strong>monthly billing rolled out to 50% of all customers</strong>, LevelUp's interchange rate is inching closer and closer to the magic 2% mark. LevelUp's subsidizing of interchange is almost over!",m="<strong>LevelUp's cost of moving money dips below 2% for the first time.</strong> Finally, all the behind-the-scenes hard work pays off and businesses can start to benefit from the even lower fee. <strong>LevelUp drops its payment processing fee to 1.95%.</strong>";google.load("visualization","1",{packages:["corechart"],callback:y}),google.setOnLoadCallback(y)},n.ios7Slider=function(){function o(){e=t(this).data("slide-number"),r.removeClass("is-active"),n.hide(),t(this).addClass("is-active"),t('[data-slide-number="'+e+'"]').fadeIn(500),s&&(t(".js-ios7-tab .icon-green").removeClass("icon-green"),t(".icon",this).addClass("icon-green"))}function u(e){t(e).each(function(e){t(this).attr("data-slide-number",e+1)})}var e=1,n=t(".js-ios7-slider-slide"),r=t(".js-ios7-tab"),i=r.size(),s=t(".js-sticky-slider-tabs").hasClass("js-sticky-slider-tabs--icon");u(n),u(r),r.click(o),r.first().click(),t(window).keydown(function(n){n.keyCode==39&&e!=i?t('.js-ios7-tab[data-slide-number="'+(e+1)+'"]').click():n.keyCode==37&&e!=1&&t('.js-ios7-tab[data-slide-number="'+(e-1)+'"]').click()})},n.partners=function(){var e=t.makeArray(t(".js-partner-logo")),n=i(e);t(".js-partner-container").html(n),t(".js-partner-container").isotope({animationEngine:"css",itemSelector:".js-partner-logo",layoutMode:"fitRows"}),t(".js-filters button").click(function(){var e=t(this).attr("data-filter");t(".js-partner-container").isotope({filter:e})}),t(".js-top-filters button").click(function(){t(".js-top-filters button").removeClass("is-active"),t(".js-secondary-filters button").removeClass("is-active"),t(this).addClass("is-active"),t(".js-secondary-filters button:first-child").addClass("is-active")}),t(".js-secondary-filters button").click(function(){t(".js-secondary-filters button").removeClass("is-active"),t(this).addClass("is-active")}),t(".js-all").click(function(){t(".partner-filters--secondary").removeClass("is-active")}),t(".js-business").click(function(){t(".partner-filters--secondary").removeClass("is-active")}),t(".js-developer").click(function(){t(".partner-filters--secondary").removeClass("is-active"),t(".js-developer-filters").addClass("is-active")}),t(".js-reseller").click(function(){t(".partner-filters--secondary").removeClass("is-active")})},n.salesforceForm=function(){t(".chzn-select").chosen(),t(".js-salesforce-form").submit(o)},n.revealSalesforceForm=function(){t(".js-reveal-salesforce-form").click(function(){t(".js-get-started-container").fadeOut(function(){t(".js-salesforce-form-container").fadeIn(),t(window).scrollTop(t(".js-salesforce-form-container").offset().top)})})},n.savingsCalculator=function(){function s(){var e=t("#monthly_revenue_per_location").val(),n=t("#average_transaction_size").val(),r=t("#number_of_locations").val(),i=t("#monthly_terminal_fee").val(),s=t("#card_percentage_fee").val()/100,o=t("#card_swipe_fee").val()/100,u=t("#chargebacks_per_month").val(),a=t("#fee_per_chargeback").val(),f=e*r,l=o/n,c=u*n/f,h=u*a/f,p=i/f,d=s+l+c+h+p,v=t.number(d*100,2),m=d*e,g=m*r,y=g*12,b=.0195*e,w=b*r,E=w*12,S=g-w,x=y-E;t(".js-monthly-savings").prepend("$"+t.number(S)),t(".js-annual-savings").prepend("$"+t.number(x)),t(".js-interchange-rate").append(v+"%"),r!=1?(t(".js-more-than-one-location").show(),t(".js-amount-paid-per-location").append("$"+t.number(m)),t(".js-LU-amount-paid-per-location").append("$"+t.number(b)),t(".js-amount-paid-monthly").append("$"+t.number(g)),t(".js-LU-amount-paid-monthly").append("$"+t.number(w))):(t(".js-one-location").show(),t(".js-LU-amount-paid-monthly").append("$"+t.number(w)),t(".js-amount-paid-monthly").append("$"+t.number(g))),t(".js-amount-paid-annually").append("$"+t.number(y)),t(".js-LU-amount-paid-annually").append("$"+t.number(E))}function o(e){var n=e.nearby_merchants,r=t.map(n,function(e,t){return n[t].order_count}),i=Math.max.apply(Math,r);for(var s=0;s<n.length;s++)if(n[s].order_count==i){var o=n[s];f(o)}}function u(e){t.ajax({url:"/assets/regions.json",dataType:"json",success:function(t){var n=t[e];o(n)}})}function a(e){var t=e.coords.latitude,n=e.coords.longitude,r=new google.maps.Geocoder,i=new google.maps.LatLng(t,n),s;r.geocode({latLng:i},function(e,t){if(t==google.maps.GeocoderStatus.OK){var n=e[0].address_components;for(var r=0;r<n.length;r++)n[r].types[0]=="postal_code"&&(s=n[r].short_name,u(s))}})}function f(e){t(".js-featured-merchant").replaceWith('<a href="https://www.thelevelup.com/merchants/'+e.id+'" target="_blank">'+e.name+"</a>")}function l(){t(".js-input").each(function(){var e=t(this).val().replace(/[^0-9.]/g,"");t(this).val(e)})}function c(){var e=!0;return t(".js-required").each(function(){t(this).val().length==0?(t(this).addClass("error"),e=!1):t(this).removeClass("error")}),e}var e="$25",n="1.7%",r="21¢",i="$20";navigator.geolocation.getCurrentPosition(a),t(".js-tooltip").tipsy({gravity:"w"}),t(".js-dollar-value").keydown(function(){event.keyCode>47&&event.keyCode<58?t(this).val()==""&&t(this).val("$"):event.keyCode>64&&event.keyCode<91&&(window.event.returnValue=null)}),t(".js-cent-value").keydown(function(){t(this).appendSymbolToInputValue("¢")}),t(".js-percentage-value").keydown(function(){t(this).appendSymbolToInputValue("%")}),t(".js-default").click(function(){t(this).hasClass("js-default-card-percentage")?t("#card_percentage_fee").val(n):t(this).hasClass("js-default-swipe-fee")?t("#card_swipe_fee").val(r):t(this).hasClass("js-default-chargeback-fee")?t("#fee_per_chargeback").val(e):t(this).hasClass("js-default-terminal-fee")&&t("#monthly_terminal_fee").val(i)}),t(".js-calculate-savings").click(function(){c()&&(l(),s(),t(".js-calculator").fadeOut(function(){t(".js-results").fadeIn(),t(window).scrollTop(t(".js-results").offset().top)}))}),function(e){e.fn.appendSymbolToInputValue=function(t){event.keyCode>47&&event.keyCode<58?e(this).val()==""&&e(this).keyup(function(){e(this).val().split("").pop()!==t&&(e(this).val(e(this).val()+t),e(this).setCursorPosition(e(this).val().length-1))}):event.keyCode>64&&event.keyCode<91&&(window.event.returnValue=null)},e.fn.setCursorPosition=function(t){if(e(this).get(0).setSelectionRange)e(this).get(0).setSelectionRange(t,t);else if(e(this).get(0).createTextRange){var n=e(this).get(0).createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}}(jQuery)},n.startupProgram=function(){t(".js-white-label-interest").parent().hide()},n.stickySlider=function(){t(window).load(function(){s(),r()}),t(window).resize(function(){s(),r(),t(".js-ios7-tab").first().click()})},e}(LevelUp||{},jQuery);(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};namespace("LevelUp.sales",function(e){var n,r,i;return e.customerFinder=function(){return google.load("visualization","1.0",{packages:["corechart"],callback:function(){return new n}})},e.customerGuarantee=function(){return google.load("visualization","1.0",{packages:["corechart"],callback:function(){return new r}})},i=function(){function e(){google.maps.event.addDomListener(window,"load",this._initializeMap()),this._mapParralax(),$(".js-rep-button").click(function(){return $(".js-cta-qualified, .js-cta-unqualified").fadeOut(function(e){return function(){return $(".js-merchant-lead-form").fadeIn(),$(window).scrollTop($(".js-merchant-lead-form").offset().top)}}(this))})}return e.prototype._appendFeaturedMerchantLink=function(e){return $(".js-featured-merchant").append("<a href='/merchants/"+e.id+"'>"+e.name+"</a>")},e.prototype._appendNearbyMerchantLink=function(e){return $(".js-nearby-merchants-list").append("<li><a href='/merchants/"+e.id+"'>"+e.name+"</a></li>")},e.prototype._displayAverageAge=function(e){var t;return t=Math.round(e.age),$(".js-average-age").append(t)},e.prototype._displayCustomerCount=function(e){var t;return t=e.user_count,$(".js-customer-count").data({from:5e3,to:t}).countTo({formatter:function(e,t){return $.number(e)}})},e.prototype._displayEmptyFieldsError=function(){return $(".js-errors .flash").remove(),$(".js-input").each(function(){if($(this).val().length===0)return $(this).addClass("form-error")}),$(".js-errors").append("<div class='flash error'>Fields may not be blank.</div>").addClass("t-error-form-blank")},e.prototype._displayFeatureMerchant=function(e){var t,n,r,i,s,o,u;i=e.nearby_merchants,r=$.map(i,function(e,t){return i[t].order_count}),n=Math.max.apply(Math,r),u=[];for(s=0,o=i.length;s<o;s++)t=i[s],parseInt(t.order_count)===n?u.push(this._appendFeaturedMerchantLink(t)):u.push(void 0);return u},e.prototype._displayGeocodeError=function(e){return $(".js-errors .flash").remove(),$(".js-loader").fadeOut(),$(".js-locator").fadeIn(),$(".js-errors").append("<div class='flash error'>Sorry, we couldn't find that address. Try including City, State, and Zip Code.</div>").addClass("t-error-geocode-failed")},e.prototype._displayGenderChart=function(e){var t,n,r,i;return r=parseFloat(e.gender),n=google.visualization.arrayToDataTable([["gender","percentage"],["Male",r],["Female",100-r]]),i={backgroundColor:{fill:"#222222",stroke:"#222222"},chartArea:{height:176,top:60,width:176},fontName:"Source Sans Pro",legend:{alignment:"center",position:"top",textStyle:{color:"#f8f8f8",fontSize:15}},pieSliceBorderColor:"#222222",reverseCategories:!0,slices:{0:{color:"#3a5529"},1:{color:"#71cb3a"}}},t=new google.visualization.PieChart(document.getElementById("piechart")),t.draw(n,i)},e.prototype._displayNearbyMerchants=function(e){var t,n,r,i,s;i=e.nearby_merchants,s=[];for(n=0,r=i.length;n<r;n++)t=i[n],s.push(this._appendNearbyMerchantLink(t));return s},e.prototype._displayNoRegionalDataError=function(){return $(".js-errors").append("<div class='flash error'>Unable to retrieve data about your region. Please try again.</div>").addClass("t-error-unable-to-load-data"),$(".js-locator").fadeIn()},e.prototype._displayNoZipcodeError=function(){return $(".js-loader").fadeOut(),$(".js-errors").append("<div class='flash error'>Please include the zip code in your business address.</div>"),$(".js-locator").fadeIn()},e.prototype._displayResults=function(e,t,n){return this._prefillLeadForm(e,t),$(".js-loader").fadeOut(),n.user_count>=5e3?this._displayCustomerData(n):this._displayResultsForUnqualifiedBusiness()},e.prototype._displayResultsForQualifiedBusiness=function(){return $(".js-details, .js-qualified, .js-cta-qualified").fadeIn(),$(".js-cta-qualified").addClass("t-qualified")},e.prototype._displayResultsForUnqualifiedBusiness=function(){return $(".js-unqualified").fadeIn().addClass("t-unqualified"),$(".js-cta-unqualified").fadeIn()},e.prototype._findZipCode=function(e){var t,n,r,i;i=e[0].address_components;for(n=0,r=i.length;n<r;n++){t=i[n];if(t.types[0]==="postal_code")return t.long_name}},e.prototype._geocodeAddress=function(e,t,n){var r;return r=new google.maps.Geocoder,r.geocode({address:t},function(t){return function(r,i){var s,o,u,a,f,l;return i===google.maps.GeocoderStatus.OK?($(".js-errors .flash").remove(),l=t._findZipCode(r),a=r[0].geometry.location,e.setCenter(a),s={fillColor:"#71CB3A",fillOpacity:.1,path:google.maps.SymbolPath.CIRCLE,scale:150,strokeColor:"#71CB3A",strokeWeight:4},f={fillColor:"#71CB3A",fillOpacity:1,path:google.maps.SymbolPath.CIRCLE,scale:4,strokeColor:"#579D2D",strokeWeight:2},u=new google.maps.Marker({icon:s,map:e,position:r[0].geometry.location,zIndex:1}),o=new google.maps.Marker({icon:f,map:e,position:r[0].geometry.location,zIndex:1e3}),$.ajax({url:"/assets/regions-2d53f879b6b92649fdae43067b7d77d3.json",dataType:"json",success:function(i){var s;return l?(s=i[l],t._displayResults(n,r,s),t._plotNearbyMerchants(e,s)):t._displayNoZipcodeError()},error:function(e){return t._displayNoRegionalDataError()}})):t._displayGeocodeError(i)}}(this))},e.prototype._initializeMap=function(){var e,t;return e=new google.maps.LatLng(42.3581,-71.0636),t=new google.maps.Map(document.getElementById("map-canvas"),{center:e,disableDefaultUI:!0,scrollwheel:!1,styles:LevelUp.mapStyles.salesMap,zoom:13}),$(".js-geocode").click(function(e){return function(){var n,r;return r=$("#business").val(),n=$("#address").val(),r.length&&n.length?($(".js-locator").fadeOut(),$(".js-loader").show().fadeIn(function(){return e._postValuesToGoogleSpreadsheet(r,n),e._geocodeAddress(t,n,r)})):e._displayEmptyFieldsError()}}(this)),$(".sales-map__locator").show()},e.prototype._mapParralax=function(){var e,t;return e=$(".js-map"),t=e.offset().top,e.waypoint(function(n){return function(n){return n==="down"?$(window).scroll(function(){var n;return n=$(window).scrollTop()-t,e.css({top:-(n/4)})}):$(window).scroll(function(){return e.css("top","0px")})}}(this))},e.prototype._plotNearbyMerchants=function(e,t){var n,r,i,s,o,u;r=t.nearby_merchants,i={fillColor:"#FF8D00",fillOpacity:1,path:google.maps.SymbolPath.CIRCLE,scale:4,strokeColor:"#B16201",strokeWeight:2},u=[];for(s=0,o=r.length;s<o;s++)n=r[s],u.push(new google.maps.Marker({icon:i,map:e,position:new google.maps.LatLng(n.lat,n.lng),title:n.name,zIndex:100}));return u},e.prototype._postValuesToGoogleSpreadsheet=function(e,t){var n;return n=$("#lead_source").val(),$.ajax({type:"POST",data:{business:e,address:t,lead_source:n},dataType:"json",url:"/businesses/leads"})},e.prototype._prefillAddressFields=function(e){var t,n,r,i,s,o,u;t=e[0].address_components,n=$(".js-city"),i=$(".js-state"),u=[];for(s=0,o=t.length;s<o;s++)r=t[s],r.types[0]==="administrative_area_level_1"&&i.val(r.long_name),r.types[0]==="locality"?u.push(n.val(r.long_name)):u.push(void 0);return u},e.prototype._prefillBusinessName=function(e){return $(".js-business-name").val(e)},e.prototype._prefillLeadForm=function(e,t){return this._prefillBusinessName(e),this._prefillAddressFields(t)},e}(),n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype._displayCustomerData=function(e){return this._displayAverageAge(e),this._displayCustomerCount(e),this._displayFeatureMerchant(e),this._displayNearbyMerchants(e),this._displayResultsForQualifiedBusiness(),this._displayGenderChart(e)},n}(i),r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype._displayCustomerData=function(e){return this._displayCustomerCount(e),this._displayFeatureMerchant(e),this._displayResultsForQualifiedBusiness()},n}(i)})}).call(this);var LevelUp=function(e,t){var n=e.sessions=e.sessions||{};return n.init=function(){function l(e){e.find(".js-auto-focus").focus()}function c(){r.toggleClass("opacity-0 opacity-1")}function h(){f.add(a).toggle()}var e=t("#js-fb-login-button"),n=t(".js-log-in-form"),r=t(".js-main-content"),i=t(".js-reset-password-form"),s=i.data("error"),o=t('.js-flash-content:contains("'+s+'")').length,u=window.location.href.match(/(\?|&)reset_password=true(&|$)/),a=t(".js-show-log-in-form"),f=t(".js-show-reset-password-form");t("input, textarea").placeholder(),o||u?n.hide(function(){i.show(),l(i),h(),c()}):(l(n),c()),e.click(function(){FB.login(function(e){},{scope:e.data("fbScope")})}),a.click(function(){i.fadeToggle(function(){n.fadeToggle(),l(n),h()})}),f.click(function(){n.fadeToggle(function(){i.fadeToggle(),l(i),h()})})},e}(LevelUp||{},jQuery),LevelUp=function(e,t){function i(){t(".js-main-content").toggleClass("opacity-0 opacity-1")}var n=e.users=e.users||{};n.show=function(){r(),t(window).load(function(){t("input#app_download_text_phone").focus()}),t("input, textarea").placeholder(),t("#app-download-text").bind("ajax:success",function(){t(this).hide(),t(".js-text-success").fadeIn(400)}).bind("ajax:error",function(){t("input#app_download_text_phone").addClass("error")}),LevelUp.facebook_share.init()},n.landing=function(){t(window).load(function(){t("p.inline-errors").length&&t("html,body").animate({scrollTop:t("#anchor_join").offset().top},"fast")}),s()},n.new=function(){t(".js-auto-focus").focus(),i(),s()},n.passwordReset=function(){i()};var r=function(){t("form").submit(function(){t("#user_submit").attr("disabled","disabled")})},s=function(){t(".js-fb-btn").click(function(){FB.login(null,{scope:t(".js-fb-btn").data("fbScope")})})};return e}(LevelUp||{},jQuery);